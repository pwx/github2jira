Summary,Description,DateCreated,DateModified,Status,Reporter,Assignee,AffectsVersion,Resolution,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody,CommentBody
blog admin is not working (need to add Megan),"An error occurred with Mephisto. If you're the administrator, check your production error logs for more info.

Need help?

    * The Official Mephisto Site
    * The Mephisto Community Wiki
",10/10/2011 10:07:29,10/10/2011 10:55:29,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:55:29; ajaya; 
Fixed.  The stupid Mephisto doesn't work with Ruby 1.8.7.  Setup a whole new setup for blog purpose only in http, monit, and passenger.  Using out of the box Rbu 1.8.6

Need to move to Wordpress.

"
Format and spacing on Project Reports,When typing project reports the spacing and formatting I enter in the text fields is not kept when publishing the page to the site.  Example of problems:  http://peerwater.org/projects/159-Water-Towers-funded-by-Charity-Water-Phase-1  In that instance you will see the bullets not spaced properly and large chunks of text when I had used paragraph spacing about every 3-4 lines.  In status reports you can see the spacing has been kept as it was entered: http://peerwater.org/projects/159-Water-Towers-funded-by-Charity-Water-Phase-1/proj_reports/118.   ,10/10/2011 10:07:33,10/10/2011 10:55:31,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:55:31; ajaya; 
changeset:2713

Check qa,"
"caching, org search, org list not working","Today we added in a new org - EOTO submitted their profile - became a prospect. Note, prospects do show up on lists.

The data (home page/side bar) still shows 59 orgs - which may be a caching issue - when does that get updated?

Importantly bug, the list of orgs does not show EOTO (is this also cached?):
http://peerwater.org/organization_search/organization_search?items_per_page=ALL&reset=1

If you search for EOTO|eoto|each the results are blank.

The interesting thing is that if you search on the organization search page: http://peerwater.org/organization_search/organization_search then ""Each One Teach One"" shows up in the prompt (so the system knows its there), but not in the results.

Also, the org is clearly on the map in Mumbai.
",10/10/2011 10:07:40,10/10/2011 10:55:38,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 10:55:34; ajaya; 
This is all working as designed.

We only show Referrals in valid organization list, search etc when they are referred and either in Peer Review OR Approved.  

{{{
mysql> select id, name, description from referral_statuses;
+----+------------+-------------+
| id | name       | description |
+----+------------+-------------+
|  1 | pending    | Pending     |
|  2 | draft      | Draft       |
|  3 | submitted  | Submitted   |
|  4 | withdrawn  | Withdrawn   |
|  5 | peerreview | Peer Review |
|  6 | approved   | Approved    |
|  7 | rejected   | Rejected    |
+----+------------+-------------+

}}}

I think what we had decided that draft/submitted etc are crude organization with no validation by PWX to make sure it's really true ORGs and not some dude referring somebody, somebody really putting shitty info and submitting. I think making an referred org worthy of any stat is when we say ""YES"".. this guy is worth review or approval.

The COUNT in the search is a BUG.  


Let's decide how we want this.","10/10/11 10:55:36; rajesh; 
Thanks, i realize now that the other 'Prospect' is under Peer Review which is why they are showing up.

I think it works fine the way it is, when i put the new org in for Peer Review, it will show up as 'Prospect'.

Can you explain how the word 'Prospect' shows up, its not in the description. I want to change 'Pending' to say 'Invited'. It does not work from the admin dashboard. And when i went to phpadmin (qa) and changed the Description of pending to 'Invited' (from 'Pending'), it did not change on the referral page display.

So, 3 needs:
1. fix count
2. display the correct value of the database
3. ability to edit display value | description","10/10/11 10:55:38; ajaya; 
changeset:2716

Prospect is an organization type.

{{{
mysql> select * from org_types;
+----+-------------+-------------+---------------------+---------------------+
| id | name        | description | created_at          | updated_at          |
+----+-------------+-------------+---------------------+---------------------+
|  1 | Implementer | Implementer | 2005-12-30 10:32:00 | 2005-12-30 10:32:00 |
|  2 | Observer    | Observer    | 2005-12-30 10:32:00 | 2005-12-30 10:32:00 |
|  3 | Funder      | Funder      | 2005-12-30 10:32:00 | 2005-12-30 10:32:26 |
|  4 | Prospect    | Prospect    | NULL                | NULL                |
+----+-------------+-------------+---------------------+---------------------+

}}}


1. Fixed.  Those orgs don't show up in the drop down.
2 & 3.. Which display are u talking about?  In the flow diagram? "
allow an application to create projects across implementers,"right now we have 2 neat features:
1. an application can lead to many projects (program funding)
2. an project can be implemented by another agency (mentioned at bottom of app & project)

combining them would be really great:
1. all implementers would need to become part of PWX
2. a project could be done by any other party other than the applicant.

this is needed soon:
- WOTR has 2 sister organizations who do its projects and many more implementers.
- WOTR is the main fundraising agency for them.
- We will get all of WOTR's data, even though projects will have been implemented by others.
- WOTR needs to own the application and the grant.
- The other orgs can do the project.

Also true for more as Project Well has Aqua Welfare Society do its project for them.",10/10/2011 10:07:42,10/10/2011 10:07:42,Open,rajesh,ajaya,Wish List,Unresolved
qandas broken in qa,"the new code deployed to qandas has broken it. no org reviews can happen.

http://qa.peerwater.org/organizations/93-International-Water-Fountain-Organization/qandas

 ActiveRecord::RecordNotFound in QandasController#index

Couldn't find Qandable

RAILS_ROOT: /mnt/apps/qa/releases/20100121171816
Application Trace | Framework Trace | Full Trace

/mnt/apps/qa/releases/20100121171816/app/controllers/qandas_controller.rb:92:in `fetch_qandable'

/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `send'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `evaluate_method'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:166:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:225:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:629:in `run_before_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:615:in `call_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:638:in `run_before_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:206:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:206:in `around_proc'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `evaluate_method'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:184:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:635:in `run_before_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:615:in `call_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/flash.rb:146:in `perform_action'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `send'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `process_without_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/base.rb:391:in `process'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/base.rb:386:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:437:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:87:in `dispatch'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:121:in `_call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/params_parser.rb:15:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/session/abstract_store.rb:122:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/query_cache.rb:29:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/query_cache.rb:9:in `cache'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/query_cache.rb:28:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/failsafe.rb:26:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:106:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/rack/request_handler.rb:92:in `process_request'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_request_handler.rb:207:in `main_loop'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/railz/application_spawner.rb:385:in `start_request_handler'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/railz/application_spawner.rb:343:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/utils.rb:184:in `safe_fork'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/railz/application_spawner.rb:341:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:163:in `start'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/railz/application_spawner.rb:209:in `start'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:262:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:256:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:154:in `spawn_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:287:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/bin/passenger-spawn-server:61

/mnt/apps/qa/releases/20100121171816/app/controllers/qandas_controller.rb:92:in `fetch_qandable'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `send'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `evaluate_method'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:166:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:225:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:629:in `run_before_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:615:in `call_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:638:in `run_before_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:206:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:206:in `around_proc'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `evaluate_method'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:184:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:635:in `run_before_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:615:in `call_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/flash.rb:146:in `perform_action'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `send'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `process_without_filters'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/base.rb:391:in `process'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/base.rb:386:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:437:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:87:in `dispatch'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:121:in `_call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/params_parser.rb:15:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/session/abstract_store.rb:122:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/query_cache.rb:29:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/query_cache.rb:9:in `cache'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/query_cache.rb:28:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/failsafe.rb:26:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/mnt/apps/qa/releases/20100121171816/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:106:in `call'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/rack/request_handler.rb:92:in `process_request'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_request_handler.rb:207:in `main_loop'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/railz/application_spawner.rb:385:in `start_request_handler'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/railz/application_spawner.rb:343:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/utils.rb:184:in `safe_fork'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/railz/application_spawner.rb:341:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:163:in `start'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/railz/application_spawner.rb:209:in `start'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:262:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:256:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:154:in `spawn_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/spawn_manager.rb:287:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2009.10/lib/ruby/gems/1.8/gems/passenger-2.2.8/bin/passenger-spawn-server:61

Request

Parameters:

{""organization_id""=>""93-International-Water-Fountain-Organization""}

Show session dump

--- 

Response

Headers:

{""Content-Type""=>""text/html; charset=utf-8"",
 ""Cache-Control""=>""no-cache""}",10/10/2011 10:07:45,10/10/2011 10:55:41,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:55:40; ajaya; 
changeset:2726"
Word Counter in,"In the ""Short Project Description"" field there is a word limit of, I believe, 250 words for entries.  There really needs to be a word counter that tells you how many words you have typed or stops you before typing in too many.  There are so many reports on the site whose project descriptions suffer from the unfortunate ""cliff hanger"" where the reporter never looked to see that they were out of space and so the description is ended abruptly right in the middle of a word or sentence.  There has to be a fix right? Since it is the first and easiest way for people to find out the details of a project in a short description...Please help!",10/10/2011 10:07:51,10/10/2011 10:55:43,Open,rajesh,rajesh,Wish List,Unresolved,"10/10/11 10:55:42; ajaya; 
changeset:2861

please find other cases we need to implement this and assign it to me. The css might need to be updated for specific forms.
"
buttons on page 1 of application not working,"the 2 buttons for 'Step 2' and 'Step 3' on page 1 of the app do not work.

all buttons on page 2 and page 3 work.

while its fixed, maybe we can have the greyed (white) out button on Page 1, saying ""Step 1"". the other 2 pages have the greyed out button pointing to their own page",10/10/2011 10:07:53,10/10/2011 10:56:11,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:55:44; ajaya; 
changeset:2732","10/10/11 10:55:46; ajaya; 
Still not working? I thought it's fixed.","10/10/11 10:55:48; rajesh; 
its not working on a new application.
works all other times.","10/10/11 10:55:51; ajaya; 
Hmm. Does work for me..  I can see some part of the button might not work. Like the edges.. But thats a bigger issue.  Check again.

","10/10/11 10:55:55; rajesh; 
http:/demo.peerwater.org/apps/new

the 2 buttons Step 2, Step 3 do not work. They have the clickable pointer when you hover over them, but nothing happens.","10/10/11 10:56:03; ajaya; 
changeset:2765","10/10/11 10:56:08; rajesh; 
almost fixed.

if you have end date blank, the buttons don't work (this is for new or edit existing apps) nor does an error message come up.

it should be fine to have end date blank on draft application and allow user to navigate to next page.
","10/10/11 10:56:11; ajaya; 
changeset:2766"
"show $ and , in project report fields",project report page show numerical fields with formatting,10/10/2011 10:07:58,10/10/2011 10:56:14,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:56:14; rajesh; 
changeset:@2733"
TEST,TEST,10/10/2011 10:08:07,10/10/2011 10:08:10,Closed,rajesh,rajesh,Bug Fix,Fixed
new db field: community contribution,"each project needs to have a community contribution field to be placed near (rajesh will decide) the total cost field in the project report.

this can be taken from the application data for initial seeding (only for the first migration).

------------

the total cost & the community contribution fields need to be put on the project report (rajesh will do)

-------

the home page needs to have a ""Total Community Contribution:"" in the PWX Summary

which for now is calculated from the application (approved) data.",10/10/2011 10:08:12,10/10/2011 10:56:27,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:56:27; ajaya; 
changeset:2757
"
more precision in lat & long fields,"the lat long fields need higher precision.
from google maps we get this:
12.894739370132813, 77.7456521987915
but after saving it rounds off to:
12.894739, 77.745652

http://peerwater.org/apps/94
while we have db changes, it seems a good time to add this one.",10/10/2011 10:08:16,10/10/2011 10:56:30,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:56:30; ajaya; 
changeset:2763"
logo for facebook and all not showing,"just the text, need logos/icons on the persons page.

the logos are there in the images directory, but are not showing like the yahoo, skype, etc.",10/10/2011 10:08:20,10/10/2011 10:56:42,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:56:36; rajesh; 
logos work on local, so i am pretty sure its a case problem, capital v lower case. code is looking for Logo-facebook.png while file is logo-facebook.png","10/10/11 10:56:42; ajaya; 
changeset:2761"
cannot accept funding for apps that are 'project funding',"when an app that is project funding is approved, the applicant cannot accept/manage the funding.

with program funding, things are okay.",10/10/2011 10:08:24,10/10/2011 10:56:44,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:56:44; ajaya; 
changeset:2770"
funding info for 'Approved but not funded' Apps,"
To help Rotary to find apps for funding:
http://peerwater.org/list_application/list_all_active_apps

1. i have already changed the code to show all 'Approved but not Funded' apps in the Active Apps list.

2. noticed that we have place to show funding info in app listings. 
instead of the cycle info in small grey below status, show:
Funding: $xx,xxx | Project




i have also changed the search results to show app and project status instead of cycle and name in the search results.
though i cheated and use the app country in project results

",10/10/2011 10:08:29,10/10/2011 10:56:48,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:56:48; rajesh; 
changeset:2773
changeset:2774
changeset:2775

List now shows funding requested and app type

Search results show funding requested, cycle year, and app type"
california orgs have moved to mid-west,"on the pwx map, all the orgs in ca have moved to the mid-west.

something to do with the lat-long precision changes?

bangalore orgs look ok.

others - check out the map and tell me what else looks fishy.",10/10/2011 10:08:35,10/10/2011 10:56:56,Closed,rajesh,rajesh,Features for External Funders,Fixed,"10/10/11 10:56:52; ajaya; 
fixed in www.

changeset:2777

This was caused by precision problem and only affected stuff in US as someof the longitude is less then 99.999999.. so anyting -100.0000 got screwed.  I have carefully restored the original values from backup.

1.30hr wasted on this.  :(
","10/10/11 10:56:54; rajesh; 
icons for philippines and vietnam were also messed up and still off. they have all moved to thailand.

please fix them too.","10/10/11 10:56:56; ajaya; 
restored."
notification to org primary member when SMS report gets attached to a project,"(rewriting the ticket completely)

When admin attaches an SMS to a project, a notification should optionally be sent to the org primary user.

user level changes:

in the email preferences page, the primary user should see 2 checkboxes:

1. email me when a report (self, peer, visitor) is posted

2. email me when an SMS report comes in

default is unchecked for #1, checked for [ticket:2 #2.]

if primary user is changed, defaults are used

notification level changes:

send the email to the user without the bottom code heavy text

help level changes: (for rajesh)

- document role of primary user

- help for email preferences (all of them)

- document operation of reports/notification",10/10/2011 10:08:42,10/04/2012 04:07:35,Open,rajesh,ajaya,Ruby 1.9.3 Rails 3.2,Unresolved,"10/10/11 10:57:00; rajesh; 
Abhishek changed notifier.rb and we have a special case for EMW where the user #136 gets a copy of the (improved) email sent to admin.

want to develop this further as an option to the primary contact of every org.

and in future, to the funder too?","10/10/11 10:57:02; rajesh; 
Is this functionality being used by EMV , is this useful? Only if it is being used we should make an effort to built it as feature else remove the hardcoding. ","10/10/11 10:57:04; rajesh; 
need to make this feature more general purpose and have the notification be able to go out to primary contact. the user permission stuff is coming up and we need to have notifier ready.

for now, sms messages should generate a notification as soon as the sms gets convereted to report.","10/10/11 10:57:06; rajesh; 
as stated above: 

""for now, sms messages should generate a notification as soon as the sms gets convereted to report."" 

do you need a new ticket for this. this feature is not present or is broken - no notification when an SMS is attached to a project."
improve admin scaffolds,"admin scaffolds for cycles, users, orgs are basic.

it would help if they were at least sorted differently (not by id).

and if they could be made sortable/clickable like project|app scaffolds, it would be great.",10/10/2011 10:08:47,10/10/2011 10:08:47,Open,rajesh,rajesh,Wish List,Unresolved
project lists (2 bugs),"the projects lists have 2 problems:

1. the rhs is missing
2. when choosing ""Funded by ..."" in the drop down, it causes a system error

http://peerwater.org/project_info/project_search?filter=2&org_id=5
and choose ""Projects Funded By ...""

------ FIX -------
before fixing it research the report and see if we are planning to rewrite it. then no need to fix

even the rhs may not need to be fixed if we change it for filtering or use the space for widening the screen.",10/10/2011 10:08:49,10/10/2011 10:57:34,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 10:57:22; rajesh; 
looking at:
http://peerwater.org/project_info/project_search?filter=2&org_id=12

its clear that the column info is not as useful as it could be.

some dates will make the list more useful:
1. date of funding (just year of app would be good)
2. date of completion (not necessarily a column, but under Status)
3. date of start (if in progress, <ditto from #2>)

A bigger question is the ""Organization"" column. Do we need it if we are doing it by Org?
Do we need different columns for the various list filters?
","10/10/11 10:57:24; rajesh; 
I have renabled the right RHS,

The rest of issues may not be needed to fix because our new console will provide this info.
","10/10/11 10:57:27; rajesh; 
Fixed in commit #2968

It was small change but took a while to figureout.
","10/10/11 10:57:30; rajesh; 
actually, am keeping it open because i don't know how the lists from the console will replace the lists off the home page.","10/10/11 10:57:32; rajesh; 
Assigned to Vinita for testing","10/10/11 10:57:34; rajesh; 
Replying to [comment:7 rajesh]:

Tested and i am able to select the 'Org' by clicking on ""Funded by"""
cannot make changes to an org profile,"on www, the new org PALMYRA
http://peerwater.org/organizations/102-PALMYRA

i want to edit their profile as admin (change their status expiry date, etc).
however, everytime i 'Save' the profile, it goes back to the edit page. only 'Cancel' works.",10/10/2011 10:08:53,10/10/2011 10:57:46,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 10:57:36; rajesh; 
also there is a 'none' section at the bottom of the page; which i can't figure out where its coming from and why its there.

can't see it in any other org.","10/10/11 10:57:38; rajesh; 
Replying to [comment:1 rajesh]:
> also there is a 'none' section at the bottom of the page; which i can't figure out where its coming from and why its there.
> 
> can't see it in any other org.


The 'none' is because of http://screencast.com/t/NWQ3YzY5M","10/10/11 10:57:40; rajesh; 
trying on local: if i edit the video field and delete what's there i cannot save.

on local, i put in 'none' in the video field.
then i confirmed that the 'none' appears at the bottom.
then i put in a proper embed video and saved it and everything worked.

then i deleted the video text and could not save.

","10/10/11 10:57:42; ajaya; 
changeset:2798","10/10/11 10:57:44; rajesh; 
one problem is fixed - the org can be edited.

the second, minor problem is that text in the video field shows up at the bottom, if it is not a valid video link.

it should still show up as: Video Link: None
not the way it is now.","10/10/11 10:57:46; rajesh; 
 Changeset:2816
 "
Create a Resources and Tools section,"Be nice to create a Tools and Resources section.

People could contribute on new technologies that might be useful and link to projects where they are being experimented on.
Highlight during app design.

Below is an email i responded to which could be the first tool we could showcase.

------------------------

Cher Gilles,

The tools we are developing are to help guide organizations (funders, implementers, etc.) and to spot trends.
These we want to deploy on PWX.
APLV would benefit if it put all its projects on the PWX database. Can we work on that soon?

What you have done is great to design and execute a project.
I will work with my team to create a 'Tools & Resources' section on PWX where we can showcase your programs and tools so that it can help others.

Regards,
Rajesh

Gilles Corcos wrote:
> Dear Rajesh:
>
> I am not a 100% sure that the tools you are refering to are the kind APLV has specialized in. But here goes:
>
> We have developed some advanced pedagogical and especially design computer tools to render the the major steps in the design of water projects much more professionel, much faster to use and and accessible to technicians with a modest degree of training.
>
> For instance a week ago while in Managua Nicaragua I gave a demonstration of two of these computer programs (both created by APLV) to the engineers responsible for setting the design norms for water projects in that country. I showed them how you could design a conduction line completely and at minimum cost in about 3 minutes and similarly a distribution network in little more than 5 minutes. These are things that normally take weeks after the necessary data (topography) has been obtained.
> These engineers were flabergasted and now want to get these programs and to revise their norms accordingly. Curiously the idea of using the computing power of modern computers to hasten and mecanize the design of the technical parts of projects (such as gravity water system) has not been followed by many designing groups as though the idea were too new. The best you find is the use of existing computer programs (such as EPANET) very pooly adapted to the needs of the rural population of developing countries and of their technicians.
>
> So if you think this is appropriate I would be glad to send you those tools which we have created and repeatedly tested in the field together with their manuals.
>
> Cordially, Gilles ",10/10/2011 10:08:56,10/10/2011 10:08:56,Open,rajesh,rajesh,Wish List,Unresolved
map of country,"would like to put a button next to search results in the country section that allows for map of country.

this way, search for 'india' and then map all ' + Applications: 53  | + Projects: 779  | + Organizations: 18 ' in India.

would like to see a nice button too (rollover gif at the least)

",10/10/2011 10:08:58,10/10/2011 10:57:56,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 10:57:48; rajesh; 
Design for button (including over state) is required : http://screencast.com/t/ZTg5ZTVmNGM","10/10/11 10:57:50; rajesh; 

 * POST request to /map/results_for_country works perfect
 * GET request results in crashing browser http://screencast.com/t/YTk4OTQ5NGEt","10/10/11 10:57:52; rajesh; 
 * http://qa.peerwater.org/kb/search?query[keywords]=India&x=0&y=0
 * map icon required","10/10/11 10:57:54; rajesh; 
Vinita, please test; ask for help if you don't understand it.","10/10/11 10:57:56; rajesh; 
Tested and it works."
widget for india water portal and more,"need a WADGET (>> widget) for putting up on the India Water Portal.

this should be very strongly branded PWX but with colors that blend in the IWP.

the widget can be the size of the large main frame and contain the map of India live connection).

they may choose to not accept this widget and ask for a smaller widget on the left column; we have to be prepared to be disappointed but only after 'wowing' them first.",10/10/2011 10:09:03,10/10/2011 10:58:10,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 10:57:58; rajesh; 
Notes
 * Widget will be loaded as IFRAME
 * Every link inside widget will open new tab (Not closing or navigating away from IWP)
[[Image(WidgetLayout1.png)]] ","10/10/11 10:58:00; rajesh; 
 * Generalized Widget url on QA (this will be loaded in iframe)
   * http://qa.peerwater.org/widget/iwp_small?for=India
   * http://qa.peerwater.org/widget/iwp_large?for=India
   * http://qa.peerwater.org/widget/iwp_small?for=United+States
   * http://qa.peerwater.org/widget/iwp_large?for=United+States

...Waiting for graphics
","10/10/11 10:58:02; rajesh; 
need # of communities (since its much larger than # of projects) for the small widget.
this is count of # of sites from all the projects.

if we can create ""# of active communities"" from # of active projects, that would be good too.","10/10/11 10:58:04; rajesh; 
What is # of sites, I do not see any attribute relating to that in project http://screencast.com/t/NTFhMzQxYTM","10/10/11 10:58:06; rajesh; 
look at pwx stats, there is one stat for communities; need to use that for only india projects.","10/10/11 10:58:08; rajesh; 
 * Communites Assisted added : [http://trac.peerwater.org/index.fcgi/changeset/2834/trunk 2834]
 * Fonts are same : http://screencast.com/t/ODFjODhhZ
","10/10/11 10:58:10; rajesh; 
i don't see the fonts as same. i want the grey ""Location"" font for us and use the regular for the data (not bold), but i also see for me that the size on Akvo is smaller.
"
Update deploy.rb | Capistrano to deploy either trunk OR branch.,Please update our deploy scripts to read a environment variable OR command line switch to deploy trunk OR branch. We already do something similar with DEPLOY_TYPE,10/10/2011 10:09:07,10/10/2011 10:09:07,Open,rajesh,rajesh,Wish List,Unresolved
Remove public/images/video folder and move to shared folder,"We need to move the public/images/video to the shared folder out of the release tree and create a symlink.  

Similar to what we do for index folder.  Move and update capistrano.  See inspiration from index folder.

",10/10/2011 10:09:09,10/10/2011 10:58:14,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 10:58:12; ajaya; 
changeset:2864

Work with me to deploy to production.","10/10/11 10:58:14; ajaya; 
changeset:2865"
new status field  for project - set by admint,"lets consider the use of a status field to mark reports complete.

this is different from the status flag reported by project owner - this one is set by admin.

it would be similar to the status flag of the app (approved, declined, ...)

the advantage of this is it makes it easier to find projects (a type of status logging) and highlight them via analytix or the map, etc.

yes, it is increasing bureaucracy and work for admin, but long-term it should be done via peer-review.

this could incorporate KPI concept and create a minimum uniform standard of project report quality.",10/10/2011 10:09:13,10/10/2011 10:09:13,Open,rajesh,rajesh,Wish List,Unresolved
search summary has one link not work (project status reports),"all links the search summary on RHS work except:
""Status/Visitor Reports""

the link there goes nowhere",10/10/2011 10:09:15,10/10/2011 10:09:15,Open,rajesh,vamsee,Bug Fix,Unresolved
project update date field(s) needs to be properly updated,"have put in some new code in the project summary field.
while testing, found that the project update code produces funny results (as seen on the attachment).

need:
1. date of last update of project report (main/final report)
2. date of last progress/status report

(please check code too, i use the 'first' report)",10/10/2011 10:09:17,10/10/2011 10:58:20,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 10:58:16; rajesh; 
the main/final report is what is the report screen.
it is the main report page, which has details on narratives, ...

http://qa.peerwater.org/projects/1-Well-repairing-at-Ahmadiyya-Primary-School-Malaisoko-Port-Loko-District-Sierra-Leone
you also get to it when you click on 'Final Report'

this is a progress/status report
http://qa.peerwater.org/projects/1-Well-repairing-at-Ahmadiyya-Primary-School-Malaisoko-Port-Loko-District-Sierra-Leone/proj_reports/225

the last update of the main report is when the main report is last edited.
same with the progress/status report (not the date it is created or published).

","10/10/11 10:58:18; rajesh; 
changeset:2844","10/10/11 10:58:20; rajesh; 
use these links to see what formating was changed and unchange it:

http://trac.peerwater.org/index.fcgi/changeset?new=2861%40trunk&old=2849%40trunk
http://trac.peerwater.org/index.fcgi/changeset?new=2849%40trunk&old=2845%40trunk"
search needs to also search name of reporter/visitor field,"we have now reporters visiting sites.

one pwx member is called ""Field Photographer"" and they have just visited several sites in Guatemala and are filing reports. search for 'Field Photographer' should results in highlighting these peer/visitor reports, but it does not.

http://peerwater.org/projects/182-Kalampatzom-Water-Distribution-System
",10/10/2011 10:09:20,10/10/2011 10:58:24,Open,rajesh,ajaya,Bug Fix,Unresolved,"10/10/11 10:58:22; ajaya; 
changeset:2915

 - Not sure if this is the right solution
 - search by Filed Photographer is Ok.
 - But search by Barefoot????  Person returns all results that has the word barefoot and we show all reports by that.  
 - we have similar issues other places.","10/10/11 10:58:24; rajesh; 
you are right; this is not the right solution.

need to just search 'name' of person AND 'name' of org in visitor/status reports.

what has happened is that now we are searching on the entire bio of the contact. so barefoot shows up since Idriss Kamara visited barefoot and its there in his bio.

so simplify the search for only name and also search org names too.
that way we can find all visitor or status reports by an org."
errors not displayed until captcha is filled,"when a visitor report is entered, the captcha is required.

if you press submit without a captcha no error is reported. the same screen is displayed until the captcha is filled correctly

if the user has an error (no title, no body, ...) then the error page is not displayed until the captcha is filled. if the captcha is filled, the errors are highlighted.

on the error page there is no captcha - by design?
and if you fill out 2 reports, there is no captcha on the second report - again by design",10/10/2011 10:09:22,10/10/2011 10:58:26,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 10:58:26; ajaya; 
changeset:2857"
Remove unapproved proj reports from search results,None,10/10/2011 10:09:24,10/10/2011 10:58:28,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 10:58:28; ajaya; 
ticket:2862"
Accept old dates while creating a project,http://screencast.com/t/MGJhYzQx,10/10/2011 10:09:27,10/10/2011 10:58:32,Closed,rajesh,rajesh,Bug Fix,Fixed,"10/10/11 10:58:30; ajaya; 
This is a expected behavior.  Your subject didn't make sense. . ""Accept old dates while creating a project"".. it already accepts.  Seems like u don't it to accept.","10/10/11 10:58:32; rajesh; 
Ah Ok..
"
social networking requires pictures,"we need to be able to add an image of every user, since we are now a social networking site.

1. update user db to add picture
2. update user profile pages to add, edit, display picture
3. extra: when looking at org profile and click on ""People"" on RHS, then the list can include their image
4. pwx team page needs include the photos too

AA and AP, one you can take ownership of this in the near future. after main AnalytiX code deployed
",10/10/2011 10:09:32,10/10/2011 10:58:46,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 10:58:34; ajaya; 
changeset:2867","10/10/11 10:58:36; rajesh; 
have put in a few code changes, so first sync up!


cannot edit photo if other than pwxadmin.
cannot edit own photo as 'blue planet run' or 'care'.



Errors

Following problems occured. Please review and correct of necessary

    * You don't have access to attach to this.


","10/10/11 10:58:38; ajaya; 
changeset:2871","10/10/11 10:58:40; rajesh; 
still does not work.

logged in as care on qa; can't upload a photo.


Errors

Following problems occured. Please review and correct of necessary

    * You don't have access to attach to this.

","10/10/11 10:58:42; ajaya; 
changeset:2873","10/10/11 10:58:44; rajesh; 
can't upload a picture for a colleague

you can edit the profile a colleague, but can't upload a picture.

need to be able to.

also, any user (esp. primary) should be also be able to edit email preferences for the others (i think i was able to, but can't do it anymore).","10/10/11 10:58:46; ajaya; 
changeset:2874
"
fix video security holes,"now that proj_report videos are sanitized, lets fix the app, org, and proj video fields too.

also, minor adjustment on the proj_report video, it still needs to move a few pixels to the left. the org video is 100% visible, while proj_report is 97%.",10/10/2011 10:09:36,04/02/2012 17:05:03,Closed,rajesh,kristian,Cisco | import,Fixed,"10/10/11 10:58:48; ajaya; 
changeset:2872","06/01/12 13:34:15; rajesh; anything left on this or will #546 cover what's missing ?

adding @vcolaco @vamsee 
",04/02/12 17:05:03; rajesh; i think is ok now
approval of project,"now that AnalytiX is looking at 'late/missing' projects, we need to work on defining 'late/missing'.

one definition is thru people input:

- pwxadmin has to say that the report is complete
- funder has to say report is complete and acceptable

we need a project report approval process.

initially it can be a simple one, similar to the 'publish' checkbox for proj_reports. two checkboxes.

long-term we need to explore having criteria and key performance metrics (KPI) and funder customization.",10/10/2011 10:09:38,10/10/2011 10:58:50,Open,rajesh,rajesh,Wish List,Unresolved,"10/10/11 10:58:50; ajaya; 
What I still don't understand is what you call a project report?   Is the main project info is the report? Or is the Org Report that upload?

Please clarify.."
clean up authentication - create user hierarchy (within pwx and within org) for features,"the picture stuff has exposed our lack of structure in the authentication.

would like to clean it up and structure it:

1. is_root(): do everything, admin dashboard

2. is_pwx(): all members of pwx, admin dashboard, can see user logins when viewing user profiles, can see all org data when viewing org profile; need to also have member dashboard to participate in member/app reviews

3. is_primary(): primary contact for org, can reset all org user passwords, can edit all user data for that org including password

4. is_org(): can edit all data for all org users, except password

5. is_mine(): can edit edit own password, etc.

This sets the state for is_funder() and is_admin() (subdomain/ subsection)

Please feel to add/clarify/enhance/negate

---------------

from #8823 with some enhancement:

0. pwx admin

1. pwx team member

2. funder primary (can do ''some'' cycle stuff and funding assignment)

3. funder team member (can do ''some'' kpi and contract stuff) 

3A. group member (if part of a funder's flock: like CSPC group)

4. implementer primary

5. implementer team member",10/10/2011 10:09:41,09/04/2012 18:21:48,Open,rajesh,kristian,Wish List,Unresolved,"10/10/11 10:58:53; rajesh; 
we need a clear definition for each data entity.

here is draft for user:

 * self: RW
 * org colleague: R
 * org admin: RW
 * pwx team: RW
 * pwx admin: RW
 * peer: R
 * public: only name visible

no need for customizability; though if it easy to implement, user can allow public to see details

here is draft list for org:


 * org member: RW
 * org admin: RW
 * pwx team: RW
 * pwx admin: RW
 * peer: R
 * public: R","10/10/11 10:58:57; rajesh; 
v2 (typos corrected) of draft list of permissions for staff progress/status report; need ability  to set default actions for each source (sms or web or ...):


 * author: RW
 * org member: R  (if difficult to implement W as optionable, then no W)
 * org admin: RW
 * pwx team: RW
 * pwx admin: RW
 * nodal member: R (if published to Nodal)
 * nodal admin: R (if published to Nodal
 * funder member: R (if published to funder)
 * pwx admin: R    (if published to funder)
 * peer: R  (if published to PWX)
 * public: R  (if published to public)

Question: if report is not meant to be visible, do we still want to show that it exists (greyed out)? just like we show names of members to the public without making them clickable.","10/10/11 10:59:00; ajaya; 
partial changeset:3269","10/10/11 10:59:02; ajaya; 

{{{
What?

    Updated header menu tool bar and update ""Welcome ***"" to show logged in user name, my profile, org profile, logout.  This is useful since we have started implementing  permission based on who is logged in rather then what org is logged in.
    Implemented an ability based authorization based on cancan and role_masks.  Please  read through http://trac.peerwater.org/index.fcgi/changeset/3269 to understand what's going  on.  very important.
    Currently the ONLY role aspect of functionality ONLY for Proj Report is implemented.  Review the above chnageset to see the difference.
    Current roles defined are admin, orgadmin, pwx, peer, public


Todo?

    Another aspect of authorization is relationship of a peer to the project.  e.g. Funder, Nodal Agency.  This is not a role and is a relationship based on what project it is and what org it is. 
    Need to add interface to update roles
    Need to add interface/code to update (module lilke project, proj report, org, app) permission to relationship.  This will be dynamic and permissios would be stored based on the module and user configurable.  My diagram around permission dealt with this.

Test

    Please understand the role based permission first.  Current roles assigned by the migration script it. orgadmin role is still not used.
        pwx admin      : {:pwx, :admin, :peer}
        pwx members : {:pwx, :peer}
        peers              : {:peer}
        anonymous     : {:public}
    Check the 3 diff type reports for each of these audiences and see if it works.
}}}
","10/10/11 10:59:05; ajaya; 
What?

    Updated header menu tool bar and update ""Welcome ***"" to show logged in user name, my profile, org profile, logout.  This is useful since we have started implementing  permission based on who is logged in rather then what org is logged in.
    Implemented an ability based authorization based on cancan and role_masks.  Please  read through http://trac.peerwater.org/index.fcgi/changeset/3269 to understand what's going  on.  very important.
    Currently the ONLY role aspect of functionality ONLY for Proj Report is implemented.  Review the above chnageset to see the difference.
    Current roles defined are admin, orgadmin, pwx, peer, public


Todo?

    Another aspect of authorization is relationship of a peer to the project.  e.g. Funder, Nodal Agency.  This is not a role and is a relationship based on what project it is and what org it is. 
    Need to add interface to update roles
    Need to add interface/code to update (module lilke project, proj report, org, app) permission to relationship.  This will be dynamic and permissios would be stored based on the module and user configurable.  My diagram around permission dealt with this.

Test

    Please understand the role based permission first.  Current roles assigned by the migration script it. orgadmin role is still not used.
        pwx admin      : {:pwx, :admin, :peer}
        pwx members : {:pwx, :peer}
        peers              : {:peer}
        anonymous     : {:public}
    Check the 3 diff type reports for each of these audiences and see if it works.","09/04/12 18:21:35; rajesh; am moving it to wish list, does not belong to restricted"
project lists messed up,"the lists for projects don't work anymore:

on the member dashboard, if you use the RHS lists: ""All My Projects"" eg: http://qa.peerwater.org/project_info/project_search?filter=2

it does not work.

and if from the profile, you go to list of ""All Projects""
http://qa.peerwater.org/project_info/project_search?filter=2&org_id=11

it does not work either, none of the filters work.

if these lists are going to be fixed soon its okay, otherwise please fix.",10/10/2011 10:09:43,10/10/2011 10:59:07,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 10:59:07; ajaya; 
changeset:2887"
Attachment | File uploaded missing.  Investigate & Update views to deal with conditon,"http://peerwater.org/projects/184-Chajul-School-Hygiene-Project-Vatzuchil-and-Vipecbalam-schools-/attachments/1830

In this, the uploaded file is not there.  Need to investigate if this is a unknown error that never get caught before.
",10/10/2011 10:09:48,10/10/2011 10:09:48,Open,rajesh,ajaya,Bug Fix,Unresolved
promoting funders to actual org,"our first case of a funder becoming an org has happened and i would like to improve that process.

a funder should be promoted to prospect (status submitted) and then follow the same steps of peer review as a referral who submits.

it will be admins responsibility to create a contact for the org and the login, etc.",10/10/2011 10:09:51,10/10/2011 10:09:51,Open,rajesh,ajaya,Wish List,Unresolved
error on qa,"
CalendarDateSelect Error: Prototype could not be found. Please make sure that your application's layout includes prototype.js (.g. <%= javascript_include_tag :defaults %>) *before* it includes calendar_date_select.js (.g. <%= calendar_date_select_includes %>).


trying to load: http://qa.peerwater.org/home_page/analytix_survey#implementation

logged in as admin, but system crashed and restarted the OS. when i reloaded firefox got the error

",10/10/2011 10:09:55,10/10/2011 10:59:08,Closed,rajesh,rajesh,Bug Fix,Fixed,"10/10/11 10:59:08; ajaya; 
I don't see this error."
self-report is filed as peer report,"
we had a person from LifeWater file a status reports in Mar and April.

do not recall 100% but i think at that time it was filed correctly under progress/status reports.

But now when reading a new status report that was filed last night, i noticed that the earlier reports are under peer reports, instead of showing up as 'self' reports (under Progress/Status Reports).",10/10/2011 10:09:59,10/10/2011 10:59:12,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 10:59:10; ajaya; 
changeset:2919","10/10/11 10:59:12; rajesh; 
the lifewater project is fixed."
"ability to move an ""Approved, Not Funded"" app from one cycle to another","please see the email request and response below.
if El Porvenir changes their funding request, their app from last year (Approved, Needs Funding) needs to go into this years funding round.

ps: am putting tix in AnalytiX milestone, if it can't be done, we can move it to Z Future

---------

Hi Rob,

1. You are right, you don't qualify for #1. Sorry. No need to specify #2-4.

2. We can update your application (you can't edit it anymore) - tell me the numbers. No need to go thru the process again. Perhaps a note about changing from single-pit to double-pit is needed somewhere too.

Though i realize i have to move the application to this funding round (so its fresh). One more thing for the tech team.

Peace,
Rajesh

Rob Bell wrote:
> Rajesh,
>
> How are you? I saw the Analytix results - interesting stuff... By the way, are you going to change your emails/domain as well? We updated the BPN link on our web site a couple of weeks ago...
>
> Anyway, as to this round, I have 2 questions for you guys:
>
> 1. We receive funding from MSSCT, so I imagine we do not qualify for #1, is that correct? Do we need to specify in the application that we are only applying for #2-4?
> 2. Can we re-submit the 2 projects that are currently approved and need funding? Both have received some funding and I would like to adjust the budget needs for each to around $10-15K I think (I need to work that out with the staff exactly how much we still need). Can I simply update the application? Do we need to go through the application process again? Will I mess it up if I start editing things? The San Juan project would be exactly the same, except the budget. The Payacuca project, I would like to change the single pit latrines to doubles and ask for just a portion of that need.
>
> Thanks,
>    Rob",10/10/2011 10:10:04,10/10/2011 10:59:16,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 10:59:14; ajaya; 
changeset:2933

Go to App-> Admin -> Move Cycle to do.

Check under App -> Admin -> History for old cycle id

App gets moved and sets to Peer Review to follow the normal pattern.  It can be funded from that.
","10/10/11 10:59:16; ajaya; 
changeset:2954

Please read comments in the changeset"
db limit causing problems in app,No description given,10/10/2011 10:10:10,10/10/2011 10:10:10,Open,rajesh,kristian,Bug Fix,Unresolved
password security improvement,"when we create a login, we assign the pw to be the same as the login name.
that is not secure.

the randomly generated one (reset pw) is a secure solution but not a good one. often i often have to login as them to help them out. we need to create pw that i can use.

is this a good strategy: to have 3 passwords (water20 peer99 xchange11) that randomly get assigned to all new logins?

other ideas? please discuss and get consensus before any coding.",10/10/2011 10:10:13,10/10/2011 10:59:20,Open,rajesh,rajesh,Wish List,Unresolved,"10/10/11 10:59:20; rajesh; 
only admin can see login names"
app resolution comment,"we need a comment field for admin to fill when putting final status of app (approved, denied, not funded) to show the reason why for putting the status.

just a text box.

need to figure out where to display it ... thoughts?",10/10/2011 10:10:15,10/10/2011 10:59:40,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 10:59:22; ajaya; 
One more text field in the app? :(

Well. the comment could be for any status change but most relevant for those final statuses.  But could be also for moving from a cycle to another cycle(which also results in a status change)..

I would implement something a quick comment screen basically when a status change happens in a pop up u enter comment and be done.

We can show this in right column of app as app history cause it's app workflow history actually.  We can add more to this later.
","10/10/11 10:59:24; ajaya; 
!changeset:2957","10/10/11 10:59:26; ajaya; 
changeset:2957","10/10/11 10:59:28; rajesh; 
After testing and looking at the results on qa
http://qa.peerwater.org/apps/168-Batzuchil-School-Hygiene-Project#

1. Can't find the final status comment on the screen or any tabs (i have not put in a funder, but hopefully that should not matter)

2. Don't want to see the app activity for now. its loaded with history of the org's activity and the public should definitely not see it. maybe only self/admin

3. Figured out the best place to put final comment: on top of ratings in the ratings tab - its where it belongs. Its Admin/Funder's decision on what to do and summarizes the ratings of all the reviewers. If ratings is disabled to public then its also invisible to public.","10/10/11 10:59:30; rajesh; 
code change: #2959
- made right column only visible to owner of the app
- put the comment on the Ratings tab
  NOT WORKING! please help fix
  
  the heading shows up for some status, but not Approved Accepted.
  the comment does not show up at all","10/10/11 10:59:32; ajaya; 
changeset:2961

summary:
1. add comment while final status
2. add comment while cycle move or updating a status in the same screen even without a cycle move.
3. Right now only displaying on review page.  
  - Check if a app is one of this status ( ""APPROVED FUNDED"",""APPROVED DECLINED"",""REJECTED"",""APPROVED NOT FUNDED"",""APPROVED_ACCEPTED"")
  - If above ""YES"", then find the comment from app_traces only when the app being put in the ""APPROVED FUNDED"",""REJECTED"",""APPROVED NOT FUNDED"" status.

Future.
1. The comment is flexible to capture comment during any status change, or during change to app anyway.  Like a version control comment.
2. We can show comment anywhere etc.
3. In app/rightcolumn where we show the app history to admin/own, see a small prototip icon next to history.  This shows the comment for that history if a comment is there.  Was in place last time to reduce clutter.

","10/10/11 10:59:34; ajaya; 
'''summary: '''

1. add comment while final status 

2. add comment while cycle move or updating a status in the same screen even without a cycle move. 

3. Right now only displaying on review page.

 * Check if a app is one of this status ( ""APPROVED FUNDED"",""APPROVED DECLINED"",""REJECTED"",""APPROVED NOT FUNDED"",""APPROVED_ACCEPTED"")
 * If above ""YES"", then find the comment from app_traces only when the app being put in the ""APPROVED FUNDED"",""REJECTED"",""APPROVED NOT FUNDED"" status.

'''Future'''. 

1. The comment is flexible to capture comment during any status change, or during change to app anyway. Like a version control comment. 

2. We can show comment anywhere etc. 

3. In app/rightcolumn where we show the app history to admin/own, see a small prototip icon next to history. This shows the comment for that history if a comment is there. Was in place last time to reduce clutter.","10/10/11 10:59:36; ajaya; 
changeset:2962","10/10/11 10:59:38; ajaya; 
changeset:2965

Please check app review page, edit, update, & finalize, funding, move etc. ","10/10/11 10:59:40; ajaya; 
wrap up

changeset:2972"
app error on qa,"from Larrie:

When going to an application I had created in early July, and hitting the EDIT link, I get what follows.  This result is not critical to my work, but you might want to look into it at some point before a prospect finds it for us.

NoMethodError in Apps#edit

Showing app/views/apps/_step1.html.erb where line #139 raised:

undefined method `to_i' for #<Class:0xbaeeccc>

Extracted source (around line #139):

136:           <div> <label>Longitude</label> <br/><%= text_field ""app_proj_location"", ""longitude"", :size => 20, :style => ""min-width:100px;""%></div>
137:           <div> <label>Approximate?</label> 
138: 		    <br>
139: 		  	<%=help_check_box('app_proj_location', 'approximate', :style => ""min-width:0px;"",
140: 							:title => ""Check the box if coordinates are approximately calculated. If actual GPS readings that can be used, please uncheck this box."" )%>
141: 		  </div>
142:         </div>

Trace of template inclusion: app/views/apps/edit.html.erb

RAILS_ROOT: /mnt/apps/qa/releases/20100722102620
Application Trace | Framework Trace | Full Trace

/mnt/apps/qa/releases/20100722102620/vendor/plugins/searchlogic/lib/searchlogic/named_scopes/conditions.rb:81:in `method_missing'
/mnt/apps/qa/releases/20100722102620/vendor/plugins/searchlogic/lib/searchlogic/named_scopes/association_conditions.rb:19:in `method_missing'
/mnt/apps/qa/releases/20100722102620/vendor/plugins/searchlogic/lib/searchlogic/named_scopes/association_ordering.rb:27:in `method_missing'
/mnt/apps/qa/releases/20100722102620/vendor/plugins/searchlogic/lib/searchlogic/named_scopes/ordering.rb:30:in `method_missing'
/mnt/apps/qa/releases/20100722102620/vendor/plugins/searchlogic/lib/searchlogic/named_scopes/or_conditions.rb:28:in `method_missing'
/mnt/apps/qa/releases/20100722102620/vendor/rails/activerecord/lib/active_record/base.rb:1959:in `method_missing_without_paginate'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/will_paginate-2.3.12/lib/will_paginate/finder.rb:170:in `method_missing'
/mnt/apps/qa/releases/20100722102620/vendor/rails/activerecord/lib/active_record/named_scope.rb:181:in `send'
/mnt/apps/qa/releases/20100722102620/vendor/rails/activerecord/lib/active_record/named_scope.rb:181:in `method_missing'
/mnt/apps/qa/releases/20100722102620/vendor/rails/activerecord/lib/active_record/base.rb:2143:in `with_scope'
/mnt/apps/qa/releases/20100722102620/vendor/rails/activerecord/lib/active_record/named_scope.rb:113:in `__send__'
/mnt/apps/qa/releases/20100722102620/vendor/rails/activerecord/lib/active_record/named_scope.rb:113:in `with_scope'
/mnt/apps/qa/releases/20100722102620/vendor/rails/activerecord/lib/active_record/named_scope.rb:174:in `method_missing'
/mnt/apps/qa/releases/20100722102620/vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:862:in `check_box_checked?'
/mnt/apps/qa/releases/20100722102620/vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:794:in `to_check_box_tag'
/mnt/apps/qa/releases/20100722102620/vendor/rails/actionpack/lib/action_view/helpers/form_helper.rb:686:in `check_box'
/mnt/apps/qa/releases/20100722102620/app/helpers/prototip_helper.rb:10:in `help_check_box'
/mnt/apps/qa/releases/20100722102620/app/views/apps/_step1.html.erb:139:in `_run_erb_app47views47apps47_step146html46erb_locals_f_object_step1'
/mnt/apps/qa/releases/20100722102620/app/views/apps/edit.html.erb:49:in `_run_erb_app47views47apps47edit46html46erb'
/mnt/apps/qa/releases/20100722102620/app/views/apps/edit.html.erb:8:in `_run_erb_app47views47apps47edit46html46erb'

Request

Parameters:

{""_method""=>""get"",
 ""id""=>""281-test-project""}

Show session dump
Response

Headers:

{""Content-Type""=>""text/html; charset=utf-8"",
 ""Cache-Control""=>""no-cache""}",10/10/2011 10:10:25,10/10/2011 10:59:55,Closed,rajesh,rajesh,Bug Fix,Fixed,"10/10/11 10:59:46; rajesh; 
Some clues are here http://screencast.com/t/ZmQzOGU4M","10/10/11 10:59:48; ajaya; 
abhishek

take it away..
","10/10/11 10:59:51; rajesh; 
Figured out that , when form helper(help_check_box('app_proj_location', 'approximate',...)) tries to call approximate method, rather than receiving boolean value, it receives an array of AppProjLocation objs.  


As seen here : http://screencast.com/t/OGU5ZTc0N
","10/10/11 10:59:53; rajesh; 
Temporarily fixed in commit #2953","10/10/11 10:59:55; rajesh; 
There is no better solution for now other than what is committed in #2953, We should close this ticket."
$$ on home page,"why are there 2 $$ instead of $ on the PWX Summary currency numbers?

This happened when the PWX_CONFIG code was added, but basic testing did not see the 2 $$.

Finally, after weeks, i am requesting this to be removed.",10/10/2011 10:10:30,10/10/2011 11:00:03,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 10:59:57; rajesh; 
Fixed.

Precision value is set to 0 , but still its showing .00 and the end.","10/10/11 10:59:59; rajesh; 
did you change owner to ask me to fix the .00 problem?

no way - its your headache!  :)","10/10/11 11:00:01; rajesh; 
Precision was '''NOT''' set!

Have set it and now no decimal points on home page

''Abhishek, you are forcing me to do more code!''

changeset:3060

assigning to Vinita for testing and closgin","10/10/11 11:00:03; rajesh; 
Looks fine"
"""Change Cycle"" for applications doesnt work for PWX Admin User",Show here http://screencast.com/t/YzA3MDJmZ,10/10/2011 10:10:35,10/10/2011 11:00:07,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 11:00:05; ajaya; 
ok. will look.","10/10/11 11:00:07; ajaya; 
changeset:2954

Please read comments in the changeset"
Cleanup all JS & CSS Included,"http://trac.peerwater.org/index.fcgi/changeset/2955

please clean up the rest of jquesy, console related stuff in trunk.",10/10/2011 10:10:37,10/10/2011 11:00:13,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:00:09; ajaya; 
Make sure all includes properly accounted and included in asset_packager config and test it end to end.","10/10/11 11:00:11; ajaya; 
I upgraded asset packager.

Check changeset:2966

Uploadify has issues when I add to config.  rake asset:packager:build_all  errors out. 

Check and fix.","10/10/11 11:00:13; rajesh; 
Fixed in Commit #3109"
can no longer use email to have password reset,"Martin Strele found this bug in our system

please do something about the login.
after all these months I keep forgetting my password. 

trying to get a new one with my email-address (ms@kairos.or.at) was not successfull. The system keeps telling me that there is no such email.... although I'm getting the invitations to this email - address.

-------
on qa, i entered an email to reset password and got the error. attached.",10/10/2011 10:10:51,10/10/2011 11:00:51,Closed,rajesh,rajesh,SMS,Fixed,"10/10/11 11:00:14; rajesh; 
Verified that user is found by email address http://screencast.com/t/NTAxM2ZmOT","10/10/11 11:00:17; rajesh; 
Supplied username (kairos) in reset password, That worked.

Hence the problem might only be with trying to retrieve from email address.","10/10/11 11:00:19; rajesh; 
one minor nuisance, logging in from the retry screen on www, i ended up on the home page (logged in) and clicked 'Home' to get to the dashboard.

was using safari.

could not reproduce this on qa.","10/10/11 11:00:21; rajesh; 
the reason that is important is that Martin Strele managed to login, but he was on the home page and not the dashboard and so did not feel logged in, and complained again.","10/10/11 11:00:23; rajesh; 
if people enter a valid email, we should send them the user id too.
otherwise don't accept email (and remove that from the screen).","10/10/11 11:00:25; ajaya; 
assigning this to kristian to let him familirize himself with the PWX dev & deployment process.

kristian: Please review the bug and see if u can do this.  This is one of our old code base.   But should be easy to fix.  Also will give u a chance to review the email stull also.  Also please check if we allow unique email per person in the PWX system.  Otherwise password recovery by email won't work.","10/10/11 11:00:26; rajesh; 
there are 12 duplicate email addresses in the database

select distinct p1.email from people p1, people p2 where p1.id !=
p2.id and p1.email = p2.email;
+---------------------------+
| email                     |
+---------------------------+
| rshah@blueplanetrun.org   |
| DELETED@peerwater.org     |
| annette@blueplanetrun.org |
| info@peerwater.org        |
| ovc@grootskenya.org       |
| lindile46@yahoo.co.uk     |
| hartso@hotmail.com        |
| earthvoyage@aim.com       |
| k.gaur@humana-india.org   |
| tam@eastmeetswest.org.vn  |
| apandhi@tata.com          |
| dwaghela@tata.com         |
+---------------------------+
12 rows in set (0.01 sec)

how shall we deal with those ?","10/10/11 11:00:34; rajesh; 
the duplicates you see need to be checked against DELETED users. we keep them around to track their Q&A participation, etc. but then they need an email so i put DELETED@peerwater.org

that is the only duplicate.

i am in 3 orgs and can use 3 emails (right now use 2).

'Lisa T' is a funder who does not want her email to be in the system nor does she want to participate so i have her as 'info@' and maybe other funders will want that.

i think we fix the 'bug' and keep rest of the discussion in a new ticket for 'Z Future'.","10/10/11 11:00:36; rajesh; 
what i forgot to add was that we have to examine our process for deleted users too, one more complication.","10/10/11 11:00:42; rajesh; 
the password can only be retrieved by username as per code. so actually only the wording on the page is wrong.

the issue (maybe a new ticket) it is not a temporary password instead it is a new password. it should be a temporary second password and once used upgraded to the actual one and only password or when used the primary password the temporary shall be discarded. 

otherwise I can bug people by asking password resets all the time - which I can do anyways but with a temporary password I at least keep my actual password as is.","10/10/11 11:00:44; rajesh; 
i think creating temp password is not a good idea. we can create a new password and they can reset it to their primary once they login. we should not keep 2 passwords.

------

now it looks like two options:

1. change the text to say only 'username' required to get password

2. add in the code to allow people to input email and then email them both their username and their new password.

i prefer #2 as people also may forget their username and start involving us. but don't know how much effort it will take.","10/10/11 11:00:46; rajesh; 
that is my third comment the other two do not show up.

anyways I fixed ad 1) and pushed onto git

the email thingy and improve the overall password handling system or actually user authorization. I am not writing the whole lot from my last comment - it might not show up :-(
","10/10/11 11:00:49; rajesh; 
the process is to fix the code and assign the ticket to Vinita or me.

when it gets deployed to qa, we test it and close it or if we find a problem, send it back.","10/10/11 11:00:51; rajesh; 
Works fine and got this confirmation : A message containing your new password has been sent to your email address. Please check your email. "
project lists sorting not working,"create a list of MSSCT funded projects

http://peerwater.org/project_info/project_search?items_per_page=25&filter=5&orderby=id&order=ASC&org_id=87

i cannot sort on it by clicking any of the columns.

-----

list all active projects:
http://peerwater.org/project_info/project_search?filter=3&order=DESC&orderby=project

i can sort on it by any column, except the first (shown above) where the projects are not ordered alpha

-----

earlier we use to be also able to click on a column name twice and sort reverse alpha. that appears to be broken.

-----

the app lists appear to be working fine and are sortable (forwards and reverse) on all fields.

",10/10/2011 10:10:58,10/10/2011 11:00:54,Open,rajesh,vamsee,Bug Fix,Unresolved,"10/10/11 11:00:54; rajesh; 
since the lists are not directly accessed from dashboard, but can be accessed from ""About"" and are public, they still are a high priority."
assigning reviews causes error,"as pwxadmin, tried to add Palymra as a reviewer.

http://peerwater.org/admin/distribute_app/display_review_orgs?app_id=315&orgs=102

when i selected them and clicked submit, i got an error:


Page Not Found!
Sorry. We couldn't find the page you have requested.
",10/10/2011 10:11:01,10/10/2011 11:00:55,Open,rajesh,vamsee,Bug Fix,Unresolved,"10/10/11 11:00:55; rajesh; 
may be related to #8748"
another error in trying to assign reviewers,"
clicked on app/assign reviewers to add palmyra:

http://peerwater.org/apps/296-Integrated-Water-Resources-Management-in-the-Inner-Delta-of-the-Niger-IDN-and-peripheral-areas-in-Mali/history

got an error:


Errors

Following problems occured. Please review and correct of necessary

    * Must not select more then 0 reviewers

Integrated Water Resources Management in the Inner Delta of the Niger (IDN) and peripheral areas in Mali
Applicant 	Protos 	Application ID: 	296
Status: 	Peer Review 	Review Cycle end date: 	2010-08-16",10/10/2011 10:11:03,10/10/2011 11:00:57,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 11:00:57; rajesh; 
Found the error. There is a max number of reviewers system parameter.

I changed it and it works. However, the error statement shows the minimum number of reviews (which is 0). So that is a very minor fix - not needed now."
clicked on a project and got an error,"logged in as pwxadmin on qa and clicked on Active Apps on the dashboard and then on the first one (Cambodia) and got an error:

http://qa.peerwater.org/apps/265-Safe-Drinking-Water-at-the-Saramrith-Secondary-School-in-Cambodia

 ActiveRecord::StatementInvalid in Apps#show

Showing app/views/apps/_app_history.html.erb where line #1 raised:

Mysql::Error: Unknown column 'old_status_id' in 'where clause': SELECT * FROM `app_traces` WHERE (`app_traces`.app_id = 265 AND (status_id != old_status_id OR old_status_id IS NULL ))  ORDER BY id DESC

Extracted source (around line #1):

1: <%- app_traces = app.app_traces.find(:all, :conditions => [""status_id != old_status_id OR old_status_id IS NULL ""], :order => ""id DESC"")%>
2: 
3: <div class=""section"">
4:   <h2>Application Activity</h2>

Trace of template inclusion: app/views/apps/_rightcolumn.html.erb, app/views/apps/show.html.erb

RAILS_ROOT: /mnt/apps/qa/releases/20100804213111
Application Trace | Framework Trace | Full Trace

/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:219:in `log'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:323:in `execute'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:608:in `select'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:661:in `find_by_sql'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:1548:in `find_every'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:615:in `find'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/associations/association_collection.rb:60:in `find'
/mnt/apps/qa/releases/20100804213111/app/views/apps/_app_history.html.erb:1:in `_run_erb_app47views47apps47_app_history46html46erb_locals_app_app_history_object'
/mnt/apps/qa/releases/20100804213111/app/views/apps/_rightcolumn.html.erb:51:in `_run_erb_app47views47apps47_rightcolumn46html46erb_locals_app_object_org_rightcolumn'
/mnt/apps/qa/releases/20100804213111/app/views/apps/show.html.erb:344
/mnt/apps/qa/releases/20100804213111/app/views/apps/show.html.erb:343:in `_run_erb_app47views47apps47show46html46erb'

/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:219:in `log'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:323:in `execute'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:608:in `select'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:661:in `find_by_sql'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:1548:in `find_every'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:615:in `find'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/associations/association_collection.rb:60:in `find'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:306:in `with_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:30:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:20:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:30:in `benchmark'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:19:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/template.rb:205:in `render_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:44:in `render_partial'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/partials.rb:184:in `render_partial'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:267:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:306:in `with_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:30:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:20:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:30:in `benchmark'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:19:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/template.rb:205:in `render_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:44:in `render_partial'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/partials.rb:184:in `render_partial'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:267:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:36:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:36:in `capture'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:36:in `capture'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:120:in `content_for'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:306:in `with_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:30:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/template.rb:205:in `render_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:265:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:348:in `_render_with_layout'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:262:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:1250:in `render_for_file'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:945:in `render_without_benchmark'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_controller_rendering.rb:13:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:1326:in `default_render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:638
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:206:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:206
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `evaluate_method'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:184:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:635:in `run_before_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:615:in `call_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/flash.rb:146:in `perform_action'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `send'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `process_without_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:391:in `process'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:386:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:437:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:87:in `dispatch'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:121:in `_call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:130
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/params_parser.rb:15:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/session/abstract_store.rb:122:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/query_cache.rb:29:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/query_cache.rb:9:in `cache'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/query_cache.rb:28:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/failsafe.rb:26:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:106:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/rack/request_handler.rb:92:in `process_request'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_request_handler.rb:207:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:400:in `start_request_handler'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:351:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/utils.rb:184:in `safe_fork'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:349:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:163:in `start'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:209:in `start'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:262:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:256:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:154:in `spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:287:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/bin/passenger-spawn-server:61

/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:219:in `log'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:323:in `execute'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb:608:in `select'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:661:in `find_by_sql'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:1548:in `find_every'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/base.rb:615:in `find'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/associations/association_collection.rb:60:in `find'
/mnt/apps/qa/releases/20100804213111/app/views/apps/_app_history.html.erb:1:in `_run_erb_app47views47apps47_app_history46html46erb_locals_app_app_history_object'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:306:in `with_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:30:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:20:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:30:in `benchmark'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:19:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/template.rb:205:in `render_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:44:in `render_partial'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/partials.rb:184:in `render_partial'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:267:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render'
/mnt/apps/qa/releases/20100804213111/app/views/apps/_rightcolumn.html.erb:51:in `_run_erb_app47views47apps47_rightcolumn46html46erb_locals_app_object_org_rightcolumn'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:306:in `with_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:30:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:20:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:30:in `benchmark'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:19:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/template.rb:205:in `render_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable_partial.rb:44:in `render_partial'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/partials.rb:184:in `render_partial'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:267:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render'
/mnt/apps/qa/releases/20100804213111/app/views/apps/show.html.erb:344
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:36:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:36:in `capture'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:36:in `capture'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/helpers/capture_helper.rb:120:in `content_for'
/mnt/apps/qa/releases/20100804213111/app/views/apps/show.html.erb:343:in `_run_erb_app47views47apps47show46html46erb'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `send'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:34:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:306:in `with_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/renderable.rb:30:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/template.rb:205:in `render_template'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:265:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:348:in `_render_with_layout'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_view/base.rb:262:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_view_rendering.rb:61:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:1250:in `render_for_file'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:945:in `render_without_benchmark'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:51:in `render_without_active_scaffold'
/mnt/apps/qa/releases/20100804213111/vendor/plugins/active_scaffold/lib/extensions/action_controller_rendering.rb:13:in `render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:1326:in `default_render'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:638
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:206:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:206
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `evaluate_method'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:184:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:635:in `run_before_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:615:in `call_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/flash.rb:146:in `perform_action'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `send'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `process_without_filters'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:391:in `process'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/base.rb:386:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:437:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:87:in `dispatch'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:121:in `_call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:130
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/params_parser.rb:15:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/session/abstract_store.rb:122:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/query_cache.rb:29:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/query_cache.rb:9:in `cache'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/query_cache.rb:28:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/mnt/apps/qa/releases/20100804213111/app/middleware/flash_session_cookie_middleware.rb:23:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/failsafe.rb:26:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/mnt/apps/qa/releases/20100804213111/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:106:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/rack/request_handler.rb:92:in `process_request'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_request_handler.rb:207:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:400:in `start_request_handler'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:351:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/utils.rb:184:in `safe_fork'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:349:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:163:in `start'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:209:in `start'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:262:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:256:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:154:in `spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:287:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/bin/passenger-spawn-server:61

Request

Parameters:

{""id""=>""265-Safe-Drinking-Water-at-the-Saramrith-Secondary-School-in-Cambodia""}

Show session dump

--- 

Response

Headers:

{""Content-Type""=>""text/html; charset=utf-8"",
 ""Cache-Control""=>""no-cache""}",10/10/2011 10:11:10,10/10/2011 11:01:15,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:00:59; rajesh; 
happens on all apps from admin dashboard. i logged out and logged back in, still happens.","10/10/11 11:01:04; rajesh; 
does NOT happen when i log in as bpr and click on the app to review.

DOES happen to Vinita when trying to submit an app as 2 different orgs.

so something related to admin stuff.","10/10/11 11:01:07; rajesh; 


Culprit for this error is Data Refresh from WWW.

Issue: Ajaya introduced change in app_traces table as new migration(  http://bit.ly/dpJ1Nv ) , When rake db:migrate was executed QA had the latest db schema, so everything worked fine. Production db (www) does not have the db schema migrated to latest migration and data refresh deleted the columns that Ajaya's code requires.
","10/10/11 11:01:14; rajesh; 
Fixed the error , by backdating the schema file on QA and running the migrations http://screencast.com/t/ZmNlODA2Zjk 


In order to avoid these errors We need to make sure nobody among us commit db/schema.rb from our local machines. It is supposed to be auto-generated. "
map widget,"provide a map widget so an org can embed it into their website.

for an implementer: all their projects (no apps or locations)

for a funder: all their funded projects (no apps or locations)",10/10/2011 10:11:20,23/01/2012 12:57:23,Closed,rajesh,rajesh,Wish List,Fixed,23/01/12 12:57:23; rajesh; closed due to dup of #553
Program funding can create projects across implementers,"see: http://peerwater.org/apps/238

this one project is done across several implementers in different regions. 3 of the implementers are members of PWX.

allowing the primary implementer to create projects that get assigned to other implementers would be a useful enhancement that would also apply to several other projects.

reporting (project status) would be easy.
ownership and analytix would be challenging.",10/10/2011 10:11:22,10/10/2011 10:11:22,Open,rajesh,ajaya,Wish List,Unresolved
change 'apply now' to 'create application' on dashboard when no cycle is present,change text of button,10/10/2011 10:11:25,10/10/2011 10:11:27,Closed,rajesh,rajesh,AnalytiX,Fixed
colors for the impact graph,"first allow colors to be fixed (Ajaya)

then 

fix the colors (Rajesh)",10/10/2011 10:11:29,10/10/2011 11:01:21,Closed,rajesh,ajaya,AnalytiX,Fixed,"10/10/11 11:01:21; rajesh; 
abhishek fixed the file and rajesh has fixed the colours"
2 folks have problems uploading attachments,"Protos could not upload a document (no details).

Ekoventure sent this:
Greetings from Ekoventure.
 
We could not upload the files/photos in the peerwater.org website due to the following problem -
 
Webpage error details
User Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; InfoPath.2)
Timestamp: Sat, 21 Aug 2010 04:59:15 UTC

Message: Invalid argument.
Line: 255
Char: 34
Code: 0
URI: http://peerwater.org/javascripts/base_packaged.js?1281206698
 
Is it the problem in the website?
 
we tried uploading from different computers but encountered the same problem.",10/10/2011 10:11:33,10/10/2011 11:01:29,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 11:01:22; ajaya; 
Ok. here is my dig.

Javascript error is in IE8 only.  This is somehow thrown by prototip.js code.  We need to look at this at a later date and see where is the offending code.

As far as upload is concerned, I can't replicate this in IE8 (that's the browser they are using).  Since two people reported and I am not getting any error in the log, wonder if the JS bug has any effect. 

Anyway.. Please work with one of them to understand if it is a usability thing.  If not will look.

Ajay","10/10/11 11:01:25; rajesh; 
very strange and inconsistent behaviour. i had no problems uploading files, but Vinita did:

Rajesh,
 
On Saturday when i logged in as Ekoventure the project ID 231 (proj 164) did not have the Edit option. I logged in again today and i am able to attach files. Strange ;-)
 
Regards,
Vinita

----------

also, while i uploaded 2-3 attachments, there were no emails generated.
now, when Vinita did it, the following email was received:

[QA]: Alert | Attachment Uploded | Project | 164

Dear PWX member, This is an automatic notification of some reporting activity on one of your projects.

Project

    * Project ID: 164
    * Organization Name: Ekoventure

Person

    * Name: S. Pushpalatha
    * Organization Name: Ekoventure

------- Please do not reply to this automatically generated email -------

------- Please ignore everything below this line -------

--- !ruby/object:Project 
app: !ruby/object:App 
  attributes: 
    name: Providing Safe drinking water to Rural Government Primary Schools
    fund_requested: ""2146""
    other_issues: Sethubavachatram block comprises of more coastal villages in the Tanjore district.
    start_date: ""2009-09-01""
    people_drinking_details: """"
    co_funding_from: """"
    maintainance_revenue: ""The women SHGs have agreed to maintain the system and contribute towards the cost of replacement of filters in due course.\r\n\
      The annual amount required would be approximately 250\r\n\
      \r\n\
      \r\n\
      The women SHGs have agreed to contribute from their monthly savings for the continuance of the project. Further, based on the success of the project they also suggested to tie up this project with the Panchayat administration ""
    created_at: 2009-07-15 13:01:48
    no_people_getting_sanitation: ""0""
    cost: ""2146""
    phases: Yes, in one Phase for a period of 6 months and maintenance and monitoring will be done after the project completion period by the women SHGs functioning in that village and the School administration with the guidance of the NGO.
    amount_funded: ""2146""
    co_funding_amount: 
    ancillary_activities: """"
    people_other_details: ""This project focuses on educating the rural school children studying in the 35 Schools on hygiene issues and particularly on the importance of \xE2\x80\x9CHand Wash\xE2\x80\x9D. \r\n\
      The staff of the Schools will be trained on the day-to-day maintenance of the Water Filter. \r\n\
      This project has been designed based on the request of the women SHG members in the monthly meetings. Ekoventure is operating/guiding 25 women SHGs in this block. The women SHG members will also be trained in the hygiene issues.\r\n""
    updated_at: 2009-08-24 22:47:13
    type_id: ""1""
    focus_id: ""27""
    avg_review_score: ""6.67""
    school_children_drinking_details: |
      2,199 School Children and approximately 145 staff spread over in 35 nos. of Government Primary Schools in the Sethubavachatram block, Tanjore district will get safe drinking water
      
      Data Source:
      office of the Assistant Education Officer
      Education Department
      Sethubavachatram

    id: ""231""
    submission_date: ""2009-07-15""
    no_school_children_affected_drinking: ""2344""
    implementor_name: """"
    needs_review: ""1""
    parent_review_id: 
    person_id: ""102""
    cost_details: See Attachment
    technology_used: ""Siphon Water Filter was successfully installed in the earlier projects implemented by Ekoventure in Schools, Anganvadis, libraries and Primary Health Centres in the villages of Villupuram District, Tamilnadu and in Pondicherry. The water purified using the water filter was tested for bacteriological analysis and in comparison with the unpurified water collected from the same source of Rope pumps installed in Villupuram district. The Total Coliforms (MPN \xE2\x80\x93 Index/100ml) was between 460 and >1100 and the Faecal Coliforms (MPN \xE2\x80\x93 Index/100ml) was between 9 and 14 in the untreated water samples and the population was absent in the case of filtered water. \r\n\
      \r\n\
      Awareness meetings on the need of safe water will be conducted in all the 35 Schools with the support of the women SHG members.\r\n\
      \r\n\
      \r\n\
      Each School having strength of for every 50 Children will be provided with one Siphon Filter unit consisting of Siphon water filter, one stainless steel drum with lid and tap, one glass tumbler with a chain tied to the drum.\r\n\
      \r\n\
      One simple poster on the use and maintenance of Siphon water filter will be displayed near the unit.\r\n\
      \r\n\
      The staff of the School will be trained on the day-to-day maintenance of the water filter.\r\n\
      \r\n\
      The field staff of Ekoventure jointly with the SHG leaders will monitor the usage of water filter and report in the Weekly SHG meetings.\r\n""
    community_org: |
      The Water Filters to be installed in the Schools will be owned by the School and will be maintained by the women SHGs.
      
      This project is taken up in the first phase in the villages where women SHGs motivated by Ekoventure do exist. The women SHGs in the respective villages have agreed to bear the costs related to the maintenance and replacement of filters. 

    no_people_affected_drinking: ""0""
    people_sanitation_details: """"
    govt_interaction: """"
    community_contribution: |
      Community contribution is in terms of participation by the leaders of women SHGs in the awareness meetings for the children.
      Weekly maintenance and monitoring of the units by the women SHG leaders on voluntary basis.

    completion_date: ""2010-02-28""
    status_id: ""10""
    video_link: """"
    organization_id: ""65""
    implementor_background: """"
    maintainance_cost: ""250""
    cycle_id: ""8""
    sec_focus_id: ""3""
    project_background: |
      In the Sethubavachatram Block, Tanjore District there are 37 Panchayat villages. In total, there are 77 nos. of Government Primary Schools and 22 nos. of Government Middle Schools functioning in this Block. Most of the Schools have drinking water source through the Panchayat and in some Schools the staff arrange for the drinking water from nearby households, public tap. But, the quality of water (contaminated with bacteria, etc.,) has not been studied so far.
      
      Ekoventure NGO is coordinating 25 women SHGs with a total strength of 362 members in this block and in the monthly group meetings the women members had represented about providing safe drinking water to their children studying in these Schools on witnessing a demo on the performance of the Water filter. As of now, no work relevant to water has been carried out by any other organizations in the proposed villages. 

    no_people_affected_others: 
    weighted_review_score: ""7.00""
    short_project_description: Providing and installing Siphon water filter units including storage drum with lid, tap and tumbler in 35 Government Primary School premises for the use of rural students numbering 2,199 in the Sethubavachatram block of Tanjore District, Tamilnadu.
    community_contribution_amount: 
  attributes_cache: {}

  organization: !ruby/object:Organization 
    attributes: 
      name: Ekoventure
      created_at: 2009-06-30 23:44:30
      comments: ""Ekoventure, a trust for rural empowerment, established in Pondicherry in the year 2000 with the objective of Rural Empowerment, is facilitating developmental activities in diverse fields. ""
      history: ""TANK REHABILITATION PROJECT PONDICHERRY (TRPP): 2000-05\r\n\
        Possession of rich experience of providing consultancy for a period of 5 \xC2\xBD years for implementing a project, namely, the Tank Rehabilitation Project Pondicherry (TRPP) executed by the Public Works Department, Pondicherry with the financial assistance of the European Commission. Ekoventure was carrying out the activities to initiate the process of Social mobilization, community organization and people\xE2\x80\x99s participation for executing tank rehabilitation through formation of Tank Associations in 16 irrigation tanks.\r\n\
        \r\n\
        GREEN COAST PROJECT: 2006-2008\r\n\
        Ekoventure possesses the experience of implementing the Green Coast project sponsored by the Wetlands International of The Netherlands for improving and sustaining the livelihood of communities belonging to tsunami affected coastal villages of Pondicherry region and Cuddalore and Villupuram districts of Tamilnadu. Under this project Ekoventure had been popularizing crop development activities such as cultivation of paddy adopting the method of System of Rice Intensification (SRI) by improving the water use efficiency by adopting alternate wetting and drying without resorting to the conventional method of flood irrigation besides obtaining 15% to 40% higher yield at low unit cost of production. Ekoventure had also popularized cultivation of less water consuming and high income generating alternate crops like vegetables and flowers for improving the livelihood of small farmers. \r\n\
        \r\n\
        GREEN POST TSUNAMI ACTION (Nov'2006-Feb'09)\r\n\
        More or less similar kinds of activities implemented under the Food Security Component of the Green Post-Tsunami Action project funded by the European Commission and taken up by Ekoventure in 32 coastal villages of Villupuram District in partnership with two other NGOs strengthened the experience and competence of Ekoventure in commodity promotion through SRI methodology and alternate cropping involving larger participation of women folk. \r\n\
        Under Water Component of this project, Ekoventure gained the experience of drilling boreholes to tap shallow water bearing aquifers and installing 32 nos. of rope pumps in the project villages for augmenting domestic water supply to households besides providing irrigation water to small vegetable and flower gardens by installing low cost drip irrigation systems. Mobilisation of local communities in general and the women communities in particular rendered the successful implementation of the components through a series of awareness meetings and special trainings as well as periodical conduct of Farmer Field Schools. Also, to ensure safe drinking water, Syphon Water filters were introduced and promoted in these 32 villages.\r\n\
        \r\n\
        WOMEN & WATER PROJECT: 2008-09 (ongoing)\r\n\
        Construction of 10 Rope pumps @2 per village in five villages in the Villupuram district, Tamilnadu. Also to provide 250 nos. of Syphon water filters @ 1per household to ensure safe drinking water. Further, establishing model Kitchen gardens in these selective households.\r\n\
        \r\n\
        SOLID WASTE MANAGEMENT: (2009-10)\r\n\
        Collect, seggregate, decompose and safely dispose (for kitchen garden), the household solid waste using Effective Microorganism technology in 500 households in 2 villages at Pondicherry. \r\n\
        \r\n""
      ranking: ""0""
      date_of_joining: ""2009-07-12""
      updated_at: 2010-07-29 19:15:59
      type_id: ""1""
      focus_id: ""1""
      non_water_revenue: ""0""
      url: www.ekoventure.in
      organization_synopsis: 
      id: ""65""
      backgrounds: |
        EKOVENTURE - VISION AND MISSION
        
        Vision and Mission of Ekoventure is to facilitate Rural Communities to attain empowerment through sustainable Institutions with components of Knowledge, Technology and Participation in an equitable manner.
        
        EKOVENTURE envisages to achieve under mentioned objectives by application of synergic strategy involving people, Government organisations and Non Government organisations through state of the art tools like participatory learning, training and dissemination methods.
        1.	Knowledge Resource Base Setting Up
        Indigenous knowledge and modern technologies-collection, documentation and dissemination to evolve innovative solutions for economic upliftment with enhanced Values of ecology Resources.  
        2.	Natural Resources
        Conservation and management in an optimal manner by taking into account of past, Present and future needs in all walks of life of rural poor.        
        3.	Health Care
        Improved health status by utilising local health traditions, medicinal herbs, kitchen herbal gardens and better food habits including yoga and meditation methods. Emphasis on safe drinking water and sustainable sanitation methods both in rural and urban areas. 
        4.	Agriculture
        Ecofriendly and sustainable type adoption of adapted practices evolved by blending both indigenous & modern practices.
        5.	Women empowerment & Gender Equity ventures to create harmony among the rural mass.
        6.	Formation of people's institution to address all problems of rural areas to further all the objectives stated above on help for self-help basis.

      showmethemoney: """"
      date_founded: ""2000-03-23""
      water_revenue: ""30000""
      reviewer: ""10""
      sec_focus_id: ""5""
    attributes_cache: {}

attributes: 
  name: Providing Safe drinking water to Rural Government Primary Schools
  start_date: ""2009-09-01""
  final_cost: ""2146""
  other_issues: """"
  people_drinking_details: 2199 School children in 35 Govt Primary Schools
  maintainance_revenue: """"
  created_at: 2009-08-24 22:47:13
  no_people_getting_sanitation: ""0""
  amount_funded: ""2146""
  learnings: """"
  updated_at: !timestamp 
    at: ""2010-08-23 00:18:14.066874 -07:00""
    ""@marshal_with_utc_coercion"": false
  narratives: """"
  people_other_details: """"
  school_children_drinking_details: 2199 School Children (Data collected from the School Attendance register)
  focus_id: ""27""
  modified_at: 2010-07-16 22:13:56
  id: ""164""
  app_id: ""231""
  no_people_impacted: ""2199""
  no_school_children_affected_drinking: ""2199""
  implementor_name: """"
  no_people_affected_drinking: ""2199""
  people_sanitation_details: """"
  completion_date: ""2010-05-31""
  status_id: ""1""
  final_detail_flag: N
  maintainance_cost: ""0""
  sec_focus_id: ""3""
  implementor_background: """"
  short_project_description: Providing and installing Siphon water filter units including storage drum with lid, tap and tumbler in 35 Government Primary School premises for the use of rural students numbering 2,199 in the Sethubavachatram block of Tanjore District, Tamilnadu.
  no_people_affected_others: ""2199""
  community_contribution_amount: ""0""
attributes_cache: {}

changed_attributes: {}

copy_of_changes: 
  updated_at: 
  - !timestamp 
    at: ""2010-08-23 00:18:13.721224 -07:00""
    ""@marshal_with_utc_coercion"": false
  - !timestamp 
    at: ""2010-08-23 00:18:14.040983 -07:00""
    ""@marshal_with_utc_coercion"": false
new_record_before_save: false
unsaved: false
","10/10/11 11:01:28; rajesh; 
here is the news from Protos:

Rajesh,

We followed following procedure;

 

To upload file or photo, click on the ""Attach File(s)"" button:
1. Type in file name or click on ""Browse"" and use the finder to select the file on your computer.
2. Enter in a Title.
3. Enter in a short Description (this will help reviewers).
4. Click on 'Upload'.

Repeat if you have more than one file. When finished uploading all files click on 'Done'.

 

When clicking on upload, all the fields which were filled in by action 1., 2. En 3. Turned back to blank, and upload failed.

We tried several times.

 

Kind regards

Groet,

Marc","10/10/11 11:01:29; rajesh; 
Vinita,

Don't make changes to this ticket. It is not for you to solve, but to hold only.

See if you can test for the error. Also, please contact Marc and Natarajan to see if they continue to have this problem.

"
icons on map do not match project status,"the icons on the maximized analytix console do not reflect the project status. 

------------- 0 -----------
they should also work the same way on the smaller map, but don't appear to.

------------- 1 -----------

completed project still shows up as in progress
http://qa.peerwater.org/projects/33-Safe-Water-for-Healthy-Life
is shown with green icon instead of blue
this is in Yemen, only project in the middle east.

------------  2 --------------
not visited project shows up with visited icon

http://qa.peerwater.org/projects/53-Kerani-Drinking-Water-Project
shows up with blue camera icon (complete visited) but no status report or visitor report
this is in Bolivia, only project in south south america.

-------------- 3 -------------

requirement for marking late:
late (green late icon): status == !complete && project completion date < today 

late (blue late icon): status == complete && project completion date is >> app completion date

(blue late is not as important to do as green late

------------- 4 ------------
requirement for marking visited

visited by implementer:
at least 1 status report date >> completion date

visited by other:
at least 1 peer or visitor report date >> completion date

visited by anyone:
at least 1 report date >> completion date

",10/10/2011 10:11:35,10/10/2011 11:02:06,Closed,rajesh,rajesh,Bug Fix,Fixed,"10/10/11 11:01:31; ajaya; 
changeset:3014
","10/10/11 11:01:33; rajesh; 
the complete/visited logic needs to be corrected. only project reports after completion date count.
  any progress/status report date > completion date

right now we see the icon on any project that has a progress/status report.

--------------

system is too slow.

one icon in india took 1 min after clicking on it to show balloon.
one icon in afghanistan took 6 min to reveal blank balloon.
one icon in philippines took 5 min to reveal blank balloon.","10/10/11 11:01:35; ajaya; 
What does that mean? what happens to filter in that case? will the project list also changes when we select visited by.. 

Please go through small map, gaps AND lasrge map & gaps.  and also it would be helpful if u give me example for each case/bug.

ajay","10/10/11 11:01:37; rajesh; 
on small&big maps on qa: select ""Any"" ""Any"" ""Visited by -> Anybody""

no green icons should show up (plain green or with clock, not with camera).

visits to in-progress projects don't count.

only blue projects (completed) can be visited.
","10/10/11 11:01:39; rajesh; 
'''BUG#2'''

on small&large map on qa: select ""Any"" ""Any"" ""Any""
the project in Afghanistan: 
http://qa.peerwater.org/projects/54-Rooftop-RWH-for-2-Jaghori-District-Schools-2-4

shows up with a blue drop w camera. that is because it has a progress/status report. however, the report is before the project was completed so it should not show up with a camera (visited '''AFTER''' completion).

same is true for Philippines:
http://qa.peerwater.org/projects/195-Barangay-Indatauan-Artesian-Well-Development-for-Community-Water-Service

and many others
","10/10/11 11:01:42; rajesh; 
BUG#3
on the large map in qa: select ""Any"" ""Done by El Porvenir"" ""Any"" you see 22 entries in the table. and on the map you see blue icons and blue-camera icons.

http://qa.peerwater.org/projects/168-3-Double-Pit-Latrines-Cooperativa-Ismael-Castillo
is correctly shown with camera because visit (June 9) is after completion (May 26).

However select: ""Any"" ""Done by El Porvenir"" ""Visited by -> Anybody"" nothing shows up. Proj168 should show up in both ""Visited by -> Anybody"" and ""Visited by -> Implementer"" 
","10/10/11 11:01:46; rajesh; 
'''Valid Icons'''
completed-late.png
completed-latevisited.png
completed-visited.png
completed.png
inprogress-late.png
inprogress.png

'''Project Conditions - Mapping to icon'''
if ( !project.complete? ) ''# project is in progress | not complete''
  if( today > project_completion_date)
    inprogress-late.png
  else
    inprogress.png
  end
else       '' #project is complete''
  if ( project_completion_date > app_completion_date) && (project_visted?) )
    completed-latevisited.png
  elsif (project_visited?)
    completed-visited.png
  elsif (project_completion_date > app_completion_date)
    completed-late
  else
    completed.png
  end
end

def project_visited
  visited by implementer: at least 1 implementer.status_report_date > completion date

  visited by other: at least 1 peer_report or visitor_report date > completion date

  visited by anyone: at least 1 report date > completion date
end 

The other filters do not change the icons


'''Organization Filter'''
if funder
  show funded_projects + implemented projects
else
  show implemented projects
end

'''Date Filter'''
date = project_start_date
if date is in range
  display
end","10/10/11 11:01:48; ajaya; 
changeset:3047","10/10/11 11:01:50; ajaya; 
I am not sure the filters are all working proper.  Make sure u understand the data being fetched.  Wierd that we have completely stopped looking at the Project Status field in your logic right now other then to know if a project is active or not.

","10/10/11 11:01:52; rajesh; 
lot more things working (could release) but this scenario is not working:

Date: Any
Org: Any
Status: Visited by 3rd party

Seems all projects with some reports show up.
e.g:
http://qa.peerwater.org/projects/195-Barangay-Indatauan-Artesian-Well-Development-for-Community-Water-Service
http://qa.peerwater.org/projects/94-LW1-STP-1-Treated-Water-Storage-and-Reuse
http://qa.peerwater.org/projects/205-Borehole-for-Mbulani-secondary-school-Songea
(all three projects in Tanzania by PADI)

These have project/status reports but have not been visited by a 3rd party.
They should not show up on this filter criteria.

Important but not blocker for release.","10/10/11 11:01:54; ajaya; 
changeset::3054","10/10/11 11:01:56; ajaya; 
changeset:3054
","10/10/11 11:01:58; rajesh; 
this scenario is still not working:

Date: Any Org: Any Status: Visited by 3rd party

Seems all projects with some reports show up. e.g:  http://qa.peerwater.org/projects/195-Barangay-Indatauan-Artesian-Well-Development-for-Community-Water-Service  http://qa.peerwater.org/projects/94-LW1-STP-1-Treated-Water-Storage-and-Reuse  http://qa.peerwater.org/projects/205-Borehole-for-Mbulani-secondary-school-Songea (all three projects in Tanzania by PADI)

These have project/status reports but have not been visited by a 3rd party. They should not show up on this filter criteria.

Important but not blocker for release. Too much effort? Move to 2.0","10/10/11 11:02:00; ajaya; 
changeset:3063","10/10/11 11:02:02; rajesh; 


this scenario is working though on second try:

twice on qa, load the analytix page when not logged in
Date: Any Org: Any Status: Visited by 3rd party

Seems all projects with some reports show up. e.g:  http://qa.peerwater.org/projects/195-Barangay-Indatauan-Artesian-Well-Development-for-Community-Water-Service  http://qa.peerwater.org/projects/94-LW1-STP-1-Treated-Water-Storage-and-Reuse  http://qa.peerwater.org/projects/205-Borehole-for-Mbulani-secondary-school-Songea (all three projects in Tanzania by PADI)

These have project/status reports but have not been visited by a 3rd party. They should not show up on this filter criteria.

'''NOW'''
select ""Visited by Implementer"" and then ""By 3rd Party""
This time the above icons do NOT show up (which is correct).

Some problem in the initial load?

Important but not blocker for release.
","10/10/11 11:02:04; rajesh; 
same thing happens in dev (starting with logged in as saferfuture, but going to big map and ""any"" ""any"" ""any"")","10/10/11 11:02:06; rajesh; 
Tested and correct icons on the map show up."
need legend on maximized analytix,"need legend on right side in a collapsible format.

i can fill up icons and text with a bit of help.",10/10/2011 10:11:40,10/10/2011 11:02:11,Open,rajesh,vamsee,Wish List,Unresolved,"10/10/11 11:02:09; ajaya; 
changeset:3016","10/10/11 11:02:11; rajesh; 
now, can only have one icon on the left of radio button.
want to return to the original filter design with icons to right of radio button so you can have more.

OR

create a toggle panel or right side for legend. 
will need new graphics."
email for membership review is bad and email bounces are ...,"there is an expired email for Utthan,
so it bounced.

1. did not get a copy of the email sent out (which is the normal case admin@ is bcc'ed)
2. got the failure but it has bad text (<!-- comments are in the message -->
3. bad formatting and some grammar (no period at the end of ""Kindly review the organizational profile   "" (for Rajesh/Vinita)

------------

Delivery to the following recipient failed permanently:

     utthan@icenet.net

Technical details of permanent failure: 
Google tried to deliver your message, but it was rejected by the recipient domain. We recommend contacting the other email provider for further information about the cause of this error. The error that the other server returned was: 550 550 5.1.1 <utthan@icenet.net> User unknown; rejecting (state 14).

----- Original message -----

Received: by 10.229.73.142 with SMTP id q14mr3350124qcj.26.1283191424616;
        Mon, 30 Aug 2010 11:03:44 -0700 (PDT)
Return-Path: <system@peerwater.org>
Received: from www.blueplanetrun.org (ec2-75-101-144-125.compute-1.amazonaws.com [75.101.144.125])
        by mx.google.com with ESMTPS id r38sm8606375qcs.2.2010.08.30.11.03.42
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Mon, 30 Aug 2010 11:03:43 -0700 (PDT)
Received: by www.blueplanetrun.org (Postfix, from userid 1004)
	id CC3A8586AB; Mon, 30 Aug 2010 11:03:41 -0700 (PDT)
Date: Mon, 30 Aug 2010 11:03:41 -0700
From: Peer Water Exchange <system@peerwater.org>
Reply-To: system@peerwater.org
To: utthan@icenet.net
Subject: PWX: You have been assigned to review the membership application for ICA
Mime-Version: 1.0
Content-Type: multipart/alternative; boundary=mimepart_4c7bf27dbdbd4_6f2f486889c273
Message-Id: <20100830180341.CC3A8586AB@www.blueplanetrun.org>

Dear Kaushik Raval,

You have been selected to review the 
application
<!-- if it is a project c.name is the name of the project, so don't need ""by"" -->
by
ICA
<!-- if it is a project can we add the name of the implementer? ""by XXX"" -->
to be considered for
membership in
the Peer Water Exchange.

Please visit http://http://peerwater.org/organizations/110-ICA to view the application.

Kindly review the organizational profile   
You can use the Question & Answer Forum to post any questions and comments on the application. 
These are visible to all the reviewers and the applicant; 
any of whom can respond to further comment on or clarify your observations.  
You will get an email notification when any comment or response is posted.
If you have input regarding comments by your peers, please share it in the same forum.

Please note that the deadline to submit your final rating and comments is 06 September, 2010.
Please submit your rating in time - click on the ""Ratings & Comments"" tab when you are ready.   

You will find all the reviews assigned to you in the 'To Do' section of your PWX dashboard 
when you login to PWX.

Thank you in advance for your participation.
Your expertise is what makes PWX work: eliminate bureaucracy, increase transparency,
enable cooperation and knowledge-sharing, strengthen the world's first 
participatory decision-making system, and help scale up 
our 
work to reach millions who lack safe drinking water and sanitation.

Thank you,
The Peer Water Exchange Team

------- Please do not reply to this automatically generated email -------
",10/10/2011 10:11:42,10/10/2011 10:11:42,Open,rajesh,ajaya,Bug Fix,Unresolved
"clicking on ""Users"" on admin dash gives error","logged in as admin; clicked on ""Users""

http://peerwater.org/person


System Error!
Something has gone wrong. Please try refreshing the page or try again later. We truly apologize for the inconvienence as we work hard to provide good experiences to you and new innovations you can use.

The system administrator has been notified of this error.


-------
does not happen on qa; so low priority but just to keep track



",10/10/2011 10:11:44,10/10/2011 10:11:44,Open,rajesh,ajaya,Bug Fix,Unresolved
Change background on the Blog page on the main site WWW & QA is,"Menu bar is missing and the background is white on the Blog page. 

Sent an email to Ajay on this regard last week, ticket created to keep track.
 
",10/10/2011 10:11:47,10/04/2012 03:47:26,Open,rajesh,vamsee,Ruby 1.9.3 Rails 3.2,Unresolved,"30/12/11 05:51:32; rajesh; need to work with me to make logo location as similar as possible 

to provide link to PWX site

and whether we can put menu bar back",04/02/12 17:20:55; rajesh; need to put link to PWX when you click on the logo and to the Blog Home when you click on the title
12 sites are primary on a project,"bug and/or data corruption:
http://peerwater.org/projects/217

all 12 sites are primary, instead of only 1.",10/10/2011 10:11:48,10/10/2011 11:02:18,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 11:02:13; rajesh; 
attached file high lights the projects with multiple primary locations.  discovered that if one goes to a location of project, edits, set primary location, then all other locations are set to not primary.  Discovered via sql:

SELECT project_id, count(project_id), sum(primary_location)
 FROM `proj_locations`
group by project_id
having count(project_id) > 1 and sum(primary_location) > 1
order by count(project_id) desc","10/10/11 11:02:16; ajaya; 
Right.  Thats how the primary location thing works.  Not sure why we had 12 of them set like that.  

Did we import this?","10/10/11 11:02:18; rajesh; 
if its not created due to a bug, then audit should fix this"
Broken links,"Member dashboard, RH column, Projects & Applications, at the bottom of these two lists are links to expand the view, all links are broken.  Get Routing Error

No route matches ""/analytix/project_info/project_search"" with {:method=>:get}

error",10/10/2011 10:11:50,10/10/2011 11:02:21,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:02:19; ajaya; 
Hmm.. . I don't see this. What page you on?  Can you replicate?
","10/10/11 11:02:21; rajesh; 
Retested, and functionality seems to be working correctly"
"Total Impact Graph Maximized - show all years data, do not limit to 5 years","When showing the max view of the TIG, include all years of data available; do not limit to the most recent 5 years",10/10/2011 10:11:55,10/10/2011 11:02:39,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:02:23; ajaya; 
changeset:3020
changeset:3021
","10/10/11 11:02:25; ajaya; 
changeset:3022","10/10/11 11:02:31; rajesh; 
http://qa.peerwater.org/analytix/impact
""All Projects""

dates go out to 2013 and data bars are there on 2012.

need to only count completed projects.","10/10/11 11:02:33; ajaya; 
changset:3029
","10/10/11 11:02:35; ajaya; 
changeset:3029","10/10/11 11:02:37; rajesh; 
looks fine, but really need to check into GV and WOTR project history to see if all years are showing up.","10/10/11 11:02:39; rajesh; 
Tested :

GV - bar chart shows all projects from 2000 to 2009.

WOTR - bar chart shows all projects from 2001 to 2009."
Total Impact Graph Maximized - Public View,"Public view: set filter = all projects, and set the filter change ability to greyed out (the public cannot change the filter settings)
",10/10/2011 10:11:59,10/10/2011 11:02:45,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:02:41; ajaya; 
Public can't view maximized impact page. right? Then?","10/10/11 11:02:43; rajesh; 
Public can only see maximized views (of data-map and of the impact graph). They will not have a dashboard.

What is being asked for is if the filter items can be greyed out (esp. the first ""My Projects""). What will ""My projects"" mean for the public?

There is a debate on whether we let the public use the other filter items. This need not be done right now. Maybe by AnalytiX 2 we will have figured it out.
","10/10/11 11:02:45; ajaya; 
changeset:3026

"
Total Impact Graph Maximized - Member / Funder - What does My Projects mean,No description given,10/10/2011 10:12:03,10/10/2011 10:12:03,Open,rajesh,ajaya,Bug Fix,Unresolved
funded by ddl,No description given,10/10/2011 10:12:05,10/10/2011 10:12:05,Open,rajesh,ajaya,Wish List,Unresolved
Funder Dashboard Cleanup,"1. Default on dashboard should by My funded projects for small map and impact graph.

2. For larger impact graph, funded + implemented

3. For maximized map: funded + implemented

If its easier to replicate #2 & #3 on the dashboard, then change #1 to show the same.

Rajesh will try to take care of look & feel (e.g. ToDos on RHS)",10/10/2011 10:12:08,10/10/2011 11:02:50,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:02:47; ajaya; 
How do we define a funder?

Org has a type called Funder/  Is that?
we also have funders for PWX ( can see in admin dashboard ) . they are funders and not members of PWX.  I assume you are saying The first one cause in the second case they can't even login.","10/10/11 11:02:48; rajesh; 
you are right, its if the org is type funder.

the other non-member funders need to show up on the ""Funded by:"" lists","10/10/11 11:02:50; ajaya; 
changeset:3068"
Public Home Page integrate public view of Analytix,"Currently, public home page has big button pointing to survey results.  Replace that button with three buttons (leave room for four).  The three buttons will be for: 1. AnalytiX Total Impact Graph, maximized view; 2. Analytix Map maximized view; 3. survey results",10/10/2011 10:12:15,10/10/2011 10:12:17,Closed,rajesh,rajesh,AnalytiX,Fixed
Public Home Page integrate AnalytiX definitions,Add a fourth button to the page pointing to a new content page explaining the BI levels context of AnalytiX - rajesh is mindful of the content,10/10/2011 10:12:19,10/10/2011 10:12:21,Closed,rajesh,rajesh,AnalytiX,Fixed
Apply button not working,"1. Logged in as implementer, to dashboard, in todo section, when funding showing the ""apply now"" button not working.

2. In the dashboard todo section, in the apply for funding subsection, show ""my"" draft and submitted applications",10/10/2011 10:12:23,10/10/2011 11:02:55,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:02:52; ajaya; 
changeset:3039

Please see commit comment.","10/10/11 11:02:55; ajaya; 
One day we remove the list, other day we want it back in."
AnalytiX map - filter not rendering same in IE 7,"On the dashboard, the filter shows the ANY at the bottom of the list.  When in the maximized view, the any is not shown, creating the need for a scroll bar, which I think Vinita noted in another ticket.

Desired behavior is to analyze the differences in the specification of these two containers and discover why it works well on DB but not in max view",10/10/2011 10:12:29,10/10/2011 11:03:01,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:02:57; rajesh; 
This is related to 8759 - resolve both with one solution","10/10/11 11:02:59; rajesh; 
See Vinita's screen, the filter is spilling over the legend.

Legend was supposed to be for Analytix2.0.
And maybe not necessary since Rajesh put icons in the filter.","10/10/11 11:03:01; ajaya; 
should be fixed.. "
AnalytiX Map Data Grid - add column for Implementer,Add column to data grid for implementer name,10/10/2011 10:12:33,10/10/2011 11:03:05,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:03:03; rajesh; 
columns added, need ""org_name""","10/10/11 11:03:05; ajaya; 
changeset:3051"
"Analytix Total Impact Graph, maximized view - make funded by / implemented by independent",to enable a graph of project funded by an funder and only those projects implemented by the selection,10/10/2011 10:12:37,10/10/2011 10:12:39,Closed,rajesh,ajaya,Analytix 1.1,Fixed
Impact graph filter enhancement (funded by && done by),"request from our friend Rob Bell of El Porvenir.

add one more filter in the impact graph:
Funded by && Done by",10/10/2011 10:12:41,10/10/2011 11:03:12,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:03:07; rajesh; 
i have put a lot of ""TODOs"" in the code, but maybe its not the place to put it.

this should be a very easy enhancement to add to our impact graph.

ALSO, while doing it, please add ""By Country"" with a drop down of all the countries we have projects in.","10/10/11 11:03:09; rajesh; 
How is it captured that the Project is funded by by the implementer itself? In the system we have org types ( https://skitch.com/abpa/ry7mp/pwx-organization-info-el-porvenir ). Done_by and Funded_by is retrieved based on org's type.

In case of the filter ""Funded by && Done by"" will the set of options consist of all implementers who self-funded atleast once.

Please give example of the project which falls under this category.

","10/10/11 11:03:12; rajesh; 
Done in commit [http://trac.peerwater.org/index.fcgi/changeset/3110 3110]"
analytix table should show results count also on top,"when we open up the maximized or small map/table, the count of results is all the way at the bottom.

need it on top (only on top or also on top)",10/10/2011 10:12:45,10/10/2011 11:03:18,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:03:14; rajesh; 
and controls can be mirrored on top and bottom too.","10/10/11 11:03:16; rajesh; 

1.) count is moved at the top
2.) mirroring the controls is tricky, there is already a official big on this ( http://datatables.net/forums/comments.php?DiscussionID=37 )

Commit #3108","10/10/11 11:03:18; rajesh; 
tested and the count is viewed at the top of the table"
AnalytiX Dashboard - Icons hidden when the map is maximized,"On the maximized map - select 'Show Legends':

1) '''Not Visited''' under Project status filter is hidden.
2) '''Any''' is listed below the ""Show legends"" button.

",10/10/2011 10:12:50,10/10/2011 11:03:20,Closed,rajesh,ajaya,AnalytiX,Fixed,"10/10/11 11:03:20; rajesh; 
same as ticket:8774"
public maximized (project) view not working,"the public view of analytix/project (the maximized screen), nothing loads. just the ""Loading"" sign",10/10/2011 10:12:54,10/10/2011 11:03:22,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:03:22; ajaya; 
changeset:3048"
restore 2 withdrawn apps,"
238 and 295 are the app ids by A single Drop

Want them reestablished to their last state with all qanda & reviews complete. the withdrawn app is still in their list of active apps.


Q: do we need to re-submit them first to keep it clean?
",10/10/2011 10:12:58,10/10/2011 11:03:26,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:03:24; rajesh; 
i resubmitted the apps and the qandas are restored.
the review assignments and ratings need to be restored.","10/10/11 11:03:26; ajaya; 
Done."
new icons need css tweak,"new icons from mark.
need new h2 css definitions. have already put the code (changeset:3052) in dashboard/_todos but text.css needs to be modified.",10/10/2011 10:13:02,10/10/2011 11:03:32,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:03:28; ajaya; 
changeset:3055","10/10/11 11:03:30; rajesh; 
sorry, was not clear:

Mark supplied new icons:
icon_apply, icon_managefunding, icon_applications_review, icon_applications

The <h2 ...> needs to be adjusted to show the new icons. i have tried to put the code in _todos but the css i could not fix.","10/10/11 11:03:32; ajaya; 
changeset:3064"
date selection on filter just a bit off,"the ""from to"" filter does not find any dates if the years selected are the same.

i tried ""2006"" -> ""2006"" and it did not pick up any Safer Future projects. But if i do ""2005"" -> ""2006"" it picks up /proj/1 which started and finished in 2006.",10/10/2011 10:13:06,10/10/2011 11:03:46,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:03:34; rajesh; 
to clarify further:

date should be from 1/1 of ""from"" to Dec31 of ""to""
","10/10/11 11:03:36; ajaya; 
changeset:3065","10/10/11 11:03:38; rajesh; 
still some issues with date filter.

on dev: on large map, choose done by safer future (i logged in as saferfuture)
2008->2010, you see 2 icons
2005->2010, you see none!

similar on qa, you should see the same or more.","10/10/11 11:03:40; rajesh; 
on dev playing with 'saferfuture' only and the date stuff is not working.

2005-2005 - 1 icon
2005-2006 - 1 icon
2006-2006 - 2 icons (not including above)
2007-2008 - none
2008-2008 - 2","10/10/11 11:03:42; rajesh; 
fixed changeset:3070","10/10/11 11:03:44; rajesh; 
assigning to Vinita to test (will work out test sequence with her).","10/10/11 11:03:46; rajesh; 
Tested and the date filters seem to be working."
updating proj report date on qa causes crash,"on firefox/osx on qa, saferfuture, editing proj report attached to proj/1.
entered np; but when i edited to change date ...

http://qa.peerwater.org/projects/1-Well-repairing-at-Ahmadiyya-Primary-School-Malaisoko-Port-Loko-District-Sierra-Leone

on vmware, windows things were running fine.

----------

 Ferret::FileNotFoundError in ProjectsController#update

File Not Found Error occured at <except.c>:117 in xpop_context
Error occured in fs_store.c:329 - fs_open_input
	tried to open ""/mnt/apps/qa/releases/20100912161809/index/qa_peerwater_org/project/_em.cfs"" but it doesn't exist: <No such file or directory>

RAILS_ROOT: /mnt/apps/qa/releases/20100912161809
Application Trace | Framework Trace | Full Trace

/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:285:in `delete'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:285:in `<<'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:8:in `synchrolock'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:8:in `synchrolock'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:267:in `<<'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/acts_as_ferret/lib/local_index.rb:154:in `<<'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/acts_as_ferret/lib/instance_methods.rb:90:in `ferret_update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `evaluate_method'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:166:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:93:in `run'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `each'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `run'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:276:in `run_callbacks'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:344:in `callback'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:283:in `update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2874:in `create_or_update_without_callbacks'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:250:in `create_or_update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2538:in `save_without_validation'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/validations.rb:1078:in `save_without_dirty'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/dirty.rb:79:in `save_without_transactions'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:229:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:182:in `transaction'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:196:in `save_without_unsaved_flag'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:196:in `save_without_unsaved_flag'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/active_scaffold/lib/extensions/unsaved_record.rb:15:in `save'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2629:in `update_attributes'
/mnt/apps/qa/releases/20100912161809/app/controllers/projects_controller.rb:151:in `update'

/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:285:in `delete'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:285:in `<<'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:8:in `synchrolock'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:8:in `synchrolock'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:267:in `<<'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/acts_as_ferret/lib/local_index.rb:154:in `<<'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/acts_as_ferret/lib/instance_methods.rb:90:in `ferret_update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `evaluate_method'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:166:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:93:in `run'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `each'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `run'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:276:in `run_callbacks'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:344:in `callback'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:283:in `update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2874:in `create_or_update_without_callbacks'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:250:in `create_or_update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2538:in `save_without_validation'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/validations.rb:1078:in `save_without_dirty'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/dirty.rb:79:in `save_without_transactions'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:229:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:182:in `transaction'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:196:in `save_without_unsaved_flag'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:196:in `save_without_unsaved_flag'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/active_scaffold/lib/extensions/unsaved_record.rb:15:in `save'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2629:in `update_attributes'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:1331:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:638
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:206:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:206
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `evaluate_method'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:184:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:635:in `run_before_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:615:in `call_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/flash.rb:146:in `perform_action'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `process_without_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:391:in `process'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:386:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:437:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:87:in `dispatch'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:121:in `_call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:130
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/params_parser.rb:15:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/session/abstract_store.rb:122:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/query_cache.rb:29:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/query_cache.rb:9:in `cache'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/query_cache.rb:28:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/failsafe.rb:26:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:106:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/rack/request_handler.rb:92:in `process_request'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_request_handler.rb:207:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:400:in `start_request_handler'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:351:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/utils.rb:184:in `safe_fork'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:349:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:163:in `start'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:209:in `start'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:262:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:256:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:154:in `spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:287:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/bin/passenger-spawn-server:61

/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:285:in `delete'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:285:in `<<'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:8:in `synchrolock'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/monitor.rb:242:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:8:in `synchrolock'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/ferret-0.11.6/lib/ferret/index.rb:267:in `<<'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/acts_as_ferret/lib/local_index.rb:154:in `<<'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/acts_as_ferret/lib/instance_methods.rb:90:in `ferret_update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:178:in `evaluate_method'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:166:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:93:in `run'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `each'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:92:in `run'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:276:in `run_callbacks'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:344:in `callback'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:283:in `update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2874:in `create_or_update_without_callbacks'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/callbacks.rb:250:in `create_or_update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2538:in `save_without_validation'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/validations.rb:1078:in `save_without_dirty'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/dirty.rb:79:in `save_without_transactions'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:229:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:229:in `with_transaction_returning_status'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:136:in `transaction'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:182:in `transaction'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:228:in `with_transaction_returning_status'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:196:in `save_without_unsaved_flag'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:208:in `rollback_active_record_state!'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/transactions.rb:196:in `save_without_unsaved_flag'
/mnt/apps/qa/releases/20100912161809/vendor/plugins/active_scaffold/lib/extensions/unsaved_record.rb:15:in `save'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/base.rb:2629:in `update_attributes'
/mnt/apps/qa/releases/20100912161809/app/controllers/projects_controller.rb:151:in `update'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:1331:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:617:in `call_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:638
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:206:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:206
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/callbacks.rb:182:in `evaluate_method'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:184:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:635:in `run_before_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:615:in `call_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activesupport/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/flash.rb:146:in `perform_action'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `send'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:532:in `process_without_filters'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/filters.rb:606:in `process'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:391:in `process'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/base.rb:386:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/routing/route_set.rb:437:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:87:in `dispatch'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:121:in `_call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:130
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/string_coercion.rb:25:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/params_parser.rb:15:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/session/abstract_store.rb:122:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/query_cache.rb:29:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/query_cache.rb:9:in `cache'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/query_cache.rb:28:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/activerecord/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/mnt/apps/qa/releases/20100912161809/app/middleware/flash_session_cookie_middleware.rb:23:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/failsafe.rb:26:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/mnt/apps/qa/releases/20100912161809/vendor/rails/actionpack/lib/action_controller/dispatcher.rb:106:in `call'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/rack/request_handler.rb:92:in `process_request'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_request_handler.rb:207:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:400:in `start_request_handler'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:351:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/utils.rb:184:in `safe_fork'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:349:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:163:in `start'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/railz/application_spawner.rb:209:in `start'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:262:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:256:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:154:in `spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/spawn_manager.rb:287:in `handle_spawn_application'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `__send__'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'
/opt/ruby-enterprise-1.8.7-2010.01/lib/ruby/gems/1.8/gems/passenger-2.2.9/bin/passenger-spawn-server:61

Request

Parameters:

{""commit""=>""Submit"",
 ""_method""=>""put"",
 ""id""=>""1-Well-repairing-at-Ahmadiyya-Primary-School-Malaisoko-Port-Loko-District-Sierra-Leone"",
 ""project""=>{""name""=>""Well repairing at Ahmadiyya Primary School Malaisoko,
 Port Loko District,
 Sierra Leone"",
 ""start_date""=>""January 16,
 2006"",
 ""final_cost""=>""2500"",
 ""people_drinking_details""=>""School kids,
 community of Malaisoko as well as surrounding communities"",
 ""other_issues""=>""the tank is working well and the management committee set up is having the cooperation of the people."",
 ""no_people_getting_sanitation""=>""0"",
 ""maintainance_revenue""=>"""",
 ""people_other_details""=>""People who got payment in the work they did during the construction of the tank."",
 ""narratives""=>""The only deviation is that we did not start as was proposed due to funding process."",
 ""learnings""=>""Water brings improvement in sanitation and the general well being of people."",
 ""school_children_drinking_details""=>"""",
 ""focus_id""=>""3"",
 ""no_people_impacted""=>"""",
 ""no_school_children_affected_drinking""=>""150"",
 ""implementor_name""=>"""",
 ""no_people_affected_drinking""=>""970"",
 ""people_sanitation_details""=>""Well maintenance project"",
 ""status_id""=>""1"",
 ""completion_date""=>""February 14,
 2006"",
 ""sec_focus_id""=>""1"",
 ""maintainance_cost""=>""20"",
 ""implementor_background""=>"""",
 ""short_project_description""=>""Repairing the well at the Ahmadiyya Primary School in Malaisoko with over 970 beneficiaries"",
 ""community_contribution_amount""=>"""",
 ""no_people_affected_others""=>""15""}}

Show session dump

--- 

Response

Headers:

{""Content-Type""=>""text/html; charset=utf-8"",
 ""Cache-Control""=>""no-cache""}

",10/10/2011 10:13:13,10/10/2011 11:03:48,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 11:03:48; ajaya; 
this is just a ferret error.. see if it happens again!!"
zoom on map not being readjusted after filter change,"when the filters get changed the zoom level needs to be adjusted appropriately. noticed by AJ too.

example:
Done by El Porvenir - zoom into Nica
Done by Barefoot - keeps same zoom (which is nice)
Done by APLV - keeps same zoom
Done by Safer Future - PROBLEM!

i have moved one project of Safer Future way south and it can't keep the same zoom level. So end up in the middle of the ocean showing no projects.

nice to fix, but not important enough to delay release. can move to 2.0 if it is going to take too much effort.

we should readjust zoom level every time a filter changes.",10/10/2011 10:13:16,10/10/2011 11:03:50,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:03:50; ajaya; 
changeset:3066"
large data table needs column size adjustment,"i have put the column widths in the _console_data_table but the display is not following those widths.

please fix.

again if this is too much effort can move to AnalytiX 2",10/10/2011 10:13:20,10/10/2011 11:03:52,Open,rajesh,ajaya,Bug Fix,Unresolved,"10/10/11 11:03:52; ajaya; 
too much work... we need to be able to calulate the table width properly, adjust the column width, and then trim the data as per the column width.."
square bullets in filter of impact graph,"the filter on the impact graph is a list (ul) but should not have the square bullets.

visual annoyance, low priority",10/10/2011 10:13:22,10/10/2011 11:03:54,Closed,rajesh,rajesh,AnalytiX,Fixed,"10/10/11 11:03:54; ajaya; 
changeset:3067"
need more contol of mini-graph,"need help either splitting impact_data.xml.builder into 2 files one for the mini or creating a second function within.

this is to allow changing legend, titles, etc. for each graph separately.",10/10/2011 10:13:26,10/10/2011 11:03:56,Open,rajesh,ajaya,Wish List,Unresolved,"10/10/11 11:03:56; rajesh; 
Per discussion on 20/09/10 - Rajesh clarified this to be:
1.  In the dashboard TIG, do not display the legend at the bottom of the graph, and enable the descriptor at the top of the graph to be different that the full TIG.
2.  Idea is to either generate two files as was noted in the original comments, or to add a new parameter and make the existing file smarter.  (Rajesh wants to control the descriptions without making a coding change)
3.  Consider speed impact of single file (large) when not needed.  "
news release without subject and date is accepted but causes a crash,"accidently i entered in a news release without selecting a date and no subject on local.

i may need help retreiving a PR (deleted) on www or on local, but the system crashes everytime i click on news/pr on admin dash.

---------
http://localhost:3000/news/index

 NoMethodError in Content#index

Showing app/views/content/index.html.erb where line #12 raised:

undefined method `strftime' for nil:NilClass

Extracted source (around line #12):

9:             <div class=""mLeft15"">
10:               <!-- <%=image_tag(""spacer.gif"", :height=>""7"")%> -->
11:               <% @contents.each do |c|%>
12:               <span style=""font-size:11px;color:grey;""><%= c.published_at.strftime(""%b %d, %Y"") %></span>
13:               <h3 style=""margin-bottom:0.25em;""><%=link_to c.title, news_path(c)%></h3>
14:               <br>
15:               <%end%>

RAILS_ROOT: /Users/shah/dev/src/pwx
Application Trace | Framework Trace | Full Trace

/Users/shah/dev/src/pwx/vendor/rails/activesupport/lib/active_support/whiny_nil.rb:52:in `method_missing'
/Users/shah/dev/src/pwx/app/views/content/index.html.erb:12:in `_run_erb_app47views47content47index46html46erb'
/Users/shah/dev/src/pwx/app/views/content/index.html.erb:11:in `each'
/Users/shah/dev/src/pwx/app/views/content/index.html.erb:11:in `_run_erb_app47views47content47index46html46erb'
/Library/Ruby/Gems/1.8/gems/newrelic_rpm-2.12.3/lib/new_relic/agent/method_tracer.rb:319:in `render'
/Library/Ruby/Gems/1.8/gems/newrelic_rpm-2.12.3/lib/new_relic/agent/method_tracer.rb:141:in `trace_execution_scoped'
/Library/Ruby/Gems/1.8/gems/newrelic_rpm-2.12.3/lib/new_relic/agent/method_tracer.rb:314:in `render'
/Library/Ruby/Gems/1.8/gems/newrelic_rpm-2.12.3/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:253:in `perform_action'
/Library/Ruby/Gems/1.8/gems/newrelic_rpm-2.12.3/lib/new_relic/agent/method_tracer.rb:141:in `trace_execution_scoped'
/Library/Ruby/Gems/1.8/gems/newrelic_rpm-2.12.3/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:246:in `perform_action'



",10/10/2011 10:13:28,10/10/2011 10:13:29,Open,rajesh,vamsee,Bug Fix,Unresolved
update PWX blog,"the blog version (Wordpress) needs to be updated.
and somehow the look & feel has gone.

if the BPN theme looks good for PWX, lets copy it.

otherwise lets at least get a nice theme and fix the background",10/10/2011 10:13:31,10/04/2012 03:48:00,Closed,rajesh,rajesh,Rails 3,Fixed,"10/10/11 11:03:58; rajesh; 
Copying the BPN theme (called Arras Theme) is tricky, It requires mark to play with PWX blog content and create thumbnail and featured image for blog posts. It requires modification to header.
 

As of now, I fixed the background, inserted logo and applied a suitable theme.",16/12/11 07:19:35; vamsee; Is there anything pending on this one?,18/12/11 09:02:07; rajesh; @vcolaco needs to go thru all the articles since most (mine anyway) have their own styles and formatting. we need to remove those selectively and make everything uniform.,"19/12/11 05:40:12; vinita; @vamsee all the articles need to be aligned (justify). 

@satyagrahi when you say edit the styles, what does that mean?
","04/02/12 17:08:51; rajesh; @vcolaco are your q's still not answered or have you made progress and completed? this is a blog, so justification is not needed, but in th earlier version there were many different formats - some articles included their own css. want to standardize the formatting.",06/02/12 13:14:46; vinita; @vamsee the para's still need to be aligned. 
rejected org shows up on map,"rejected Rural Womens Movement in South Africa.
saw the org count was down, but it still shows up on map.

need to test on qa.

change ""Rejected"" -> ""Declined""

",10/10/2011 10:13:33,10/10/2011 11:04:08,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:04:00; rajesh; 
Tested on QA i does not show up, please check once again.","10/10/11 11:04:02; rajesh; 
am not sure what Vinita tested, on QA the rejected org in South Africa clearly is visible on the map.

this needs to be fixed sooner than later ...","10/10/11 11:04:04; rajesh; 
Just to confirm, Are you talking about this listing? https://skitch.com/abpa/rb2kb/pwx-continuing-to-lead-innovation-in-maps-to-serve-the-wash-sector

","10/10/11 11:04:06; rajesh; 
Fixed in Commit #3113
","10/10/11 11:04:08; rajesh; 
Rejected org does not show up on the map - checked in QA"
need intro marketing AnalytiX video for home page,"short 30-60 sec max.

alternate video & text with current home page video.",10/10/2011 10:13:37,10/10/2011 11:04:10,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:04:10; rajesh; 
Done.


Please close this ticket ,
Further improvements can be taken care as and when required.
"
need training AnalytiX video,"need a 3-5 min video touching on all parts of AnalytiX to serve as a training video.

having TOC would be good to have help pointers for specific features:

dashboard,
maximized,
filter,
impact & options",10/10/2011 10:13:41,10/10/2011 11:04:17,Closed,rajesh,rajesh,Wish List,Fixed,"10/10/11 11:04:12; rajesh; 
Done .

http://qa.peerwater.org/analytix/help/video?introduction
","10/10/11 11:04:15; rajesh; 
need one more video on what next, what to do, what is expected.","10/10/11 11:04:17; rajesh; 
Vinita can create new ticket on ""need one more video on what next, what to do, what is expected"""
optimization of sql queries and caching (server-side),"need to dramatically improve speed.

",10/10/2011 10:13:45,10/10/2011 11:04:19,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:04:19; rajesh; 


On Server-side
Without Caching default request (Where filters are set to ""Any"") takes 10 secs on Avg , With Caching it takes 1.3 sec. 

On Client-side
Javascript that parses data for table takes 2ms and 92ms for map. After the data is parsed, it is used by Datatable script & Google Maps Script to draw the content on screen (approx 10 secs).


By nature, cache expires every three hours which means first request is going to be slow, to feel the difference in speed on QA you need to first play with Analytix for few mins and then open WWW on the other tab and perform same action in both to see which loads first.


-------------------------------------------------------------------------

1.) Memcached installed on the server
2.) Memcache Client is pure ruby (Dalli)
3.) Enabled caching on ly for QA
"
kb legend (search summary) needs to be become smaller,"the search results summary needs to be made smaller.

there is too much white space and the bottom section can be invisible and never be reached, since it is fixed position.

OR

introduce a scroll bar when the display is too small for the summary.",10/10/2011 10:13:51,10/10/2011 11:04:23,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:04:23; rajesh; 
font is smaller and moves when one scrolls through the page"
initial sort order of projects,"request from Lisa:

the initial sort order of the projects data table (large) should be start date (most recent first).

this should be true for not logged in, for sure.

so that public sees projects with data first.

and logged in people see projects without data first! :)",10/10/2011 10:13:56,10/10/2011 11:04:31,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:04:25; rajesh; 
Vinita, Can you check this and close","10/10/11 11:04:27; rajesh; 
Tested in QA:

When not logged in the table shows projects with start date and end date (most recent being first).

Logged in and noticed projects are listed only with end date on the smaller map, the maximized map shows the start and end dates.

Include the start date column on the smaller map.","10/10/11 11:04:29; rajesh; 
we will not be doing it for smaller map..
","10/10/11 11:04:31; rajesh; 
Data is in order"
qa refresh with new email and passwords,"1. create a mailing list on google apps ""qa"" vinita & rajesh

2. change rake script so that qa refresh changes email to qa@peerwater.org

3. change pw to analytix for all logins and qa website",10/10/2011 10:14:00,10/10/2011 11:04:33,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:04:33; rajesh; 
Done.

Revision:#3076

"
Date Filter: Projects Started This Year,"Using WWW, not logged in, using public view of AnalytiX, Select projects this year radio button, with org and status filters set to any, the system returns 77 entries.  Running a query in phpmyadmin to select those projects for 2010, I get 14.  When a sort the data grid by start date, I get start dates not in 2010.

select id, name, date(start_date)
  from projects
 where start_date between '2010-01-01' and '2010-12-31'
 order by start_date;",10/10/2011 10:14:05,10/10/2011 11:04:37,Closed,rajesh,rajesh,Analytix 1.1,Fixed,"10/10/11 11:04:35; rajesh; 
As of right now, the dataset for current year considers last one year from current date. If you are using Analytix on 27 Sept 2010 ... It fetches data from 28 sept 2009 to 27 Sept 2010.
This makes sense, because we want people to know , Project started during last 1 year. 

Should we just change the label of radio button from ""Projects started this year"" to "" started during last one year"" 

This way the 1 year range will be relative to current month. If people want to find projects started after recent January, they can do so with table filters.
","10/10/11 11:04:37; rajesh; 
Done in Revision:3073
Test it on QA"
impact graph calculations need to be checked,No description given,10/10/2011 10:14:09,10/10/2011 11:04:39,Open,rajesh,rajesh,Bug Fix,Unresolved,"10/10/11 11:04:39; rajesh; 
Here is a query that gets executed for one of the label

SELECT sum(`projects`.no_people_affected_drinking) AS sum_no_people_affected_drinking FROM `projects` INNER JOIN `apps` ON `apps`.id = `projects`.app_id WHERE ((projects.completion_date <= '2009-12-31') AND (((apps.organization_id > 0) AND (projects.status_id IN (1, 5, 6, 7))) AND (projects.completion_date >= '2009-01-01'))) 

It covers all the projects which fall under the status
* Complete - Successful
* Complete - Success, Late
* Complete - Success, Over budget
* Complete - Partial Success


"
Add Altitude to database,"Add altitude to the database; collate with Lat Lon.  Gram Vikas has collected altitude and want to track it.  Only add to DB, future release to figure out the UI components.",10/10/2011 10:14:11,10/10/2011 10:14:11,Open,rajesh,ajaya,Wish List,Unresolved
